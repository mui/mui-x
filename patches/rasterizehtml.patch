diff --git a/dist/rasterizeHTML.allinone.js b/dist/rasterizeHTML.allinone.js
index be1e68dff6c49480318c0f70ec761c0e7c20ecb8..96437c5594c4ecdef6be38324c413e9ac56eef3b 100644
--- a/dist/rasterizeHTML.allinone.js
+++ b/dist/rasterizeHTML.allinone.js
@@ -1,6 +1,6 @@
-/*! rasterizeHTML.js - v1.3.1 - 2022-01-16
+/*! rasterizeHTML.js - v1.3.1 - 2025-10-27
 * http://www.github.com/cburgmer/rasterizeHTML.js
-* Copyright (c) 2022 Christoph Burgmer; Licensed MIT */
+* Copyright (c) 2025 Christoph Burgmer; Licensed MIT */
 /* Integrated dependencies:
  * url (MIT License),
  * xmlserializer (MIT License),
@@ -8,4 +8,4 @@
  * css-font-face-src (BSD License),
  * inlineresources (MIT License) */
 
-!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).rasterizeHTML=e()}(function(){return function r(o,a,i){function u(t,e){if(!a[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=a[t]={exports:{}},o[t][0].call(n.exports,function(e){return u(o[t][1][e]||e)},n,n.exports,r,o,a,i)}return a[t].exports}for(var s="function"==typeof require&&require,e=0;e<i.length;e++)u(i[e]);return u}({1:[function(e,t,n){var r,o;o=function(e,t,n,r){var o=function(n){"use strict";var o={},t=[];o.joinUrl=function(e,t){return e?n.resolve(e,t):t},o.getConstantUniqueIdFor=function(e){return t.indexOf(e)<0&&t.push(e),t.indexOf(e)},o.clone=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n};return o.parseOptionalParameters=function(e){var t,n,r={canvas:null,options:{}};return null==e[0]||(t=e[0],"object"==typeof(n=t)&&null!==n&&Object.prototype.toString.apply(t).match(/\[object (Canvas|HTMLCanvasElement)\]/i))?(r.canvas=e[0]||null,r.options=o.clone(e[1])):r.options=o.clone(e[0]),r},o}(e),a=function(a){"use strict";function u(e,t,n){var r=e[t];return e[t]=function(){var e=Array.prototype.slice.call(arguments);return n.apply(this,[e,r])},r}var e={};return e.baseUrlRespectingXhr=function(t,o){return function(){var e=new t;return u(e,"open",function(e,t){var n=e.shift(),r=e.shift(),r=a.joinUrl(o,r);return t.apply(this,[n,r].concat(e))}),e}},e.finishNotifyingXhr=function(t){function e(){var e=new t;return u(e,"send",function(e,t){return r+=1,t.apply(this,arguments)}),e.addEventListener("load",function(){o+=1,n()}),e}var n,r=0,o=0,a=!1,i=new Promise(function(e){n=function(){r-o<=0&&a&&e({totalCount:r})}});return e.waitForRequestsToFinish=function(){return a=!0,n(),i},e},e}(o),e=function(a){"use strict";function r(e){return Array.prototype.slice.call(e)}var e={},i={active:!0,hover:!0,focus:!1,target:!1};return e.fakeUserAction=function(e,t,n){var r=e.querySelector(t),o=":"+n,t="rasterizehtml"+n;r&&(i[n]?a.addClassNameRecursively(r,t):a.addClassName(r,t),a.rewriteCssSelectorWith(e,o,"."+t))},e.persistInputValues=function(e){function t(e){return"checkbox"===e.type||"radio"===e.type}var n=e.querySelectorAll("input"),e=e.querySelectorAll("textarea");r(n).filter(t).forEach(function(e){e.checked?e.setAttribute("checked",""):e.removeAttribute("checked")}),r(n).filter(function(e){return!t(e)}).forEach(function(e){e.setAttribute("value",e.value)}),r(e).forEach(function(e){e.textContent=e.value})},e.rewriteTagNameSelectorsToLowerCase=function(e){a.lowercaseCssTypeSelectors(e,a.findHtmlOnlyNodeNames(e))},e}(function(){"use strict";function i(e){return Array.prototype.slice.call(e)}var n={};n.addClassName=function(e,t){e.className+=" "+t},n.addClassNameRecursively=function(e,t){n.addClassName(e,t),e.parentNode!==e.ownerDocument&&n.addClassNameRecursively(e.parentNode,t)};function r(e,t,o){var a="((?:^|[^.#:\\w])|(?=\\W))("+t.join("|")+")(?=\\W|$)";i(e.querySelectorAll("style")).forEach(function(e){var t,n;void 0===e.sheet&&(t=e,n=document.implementation.createHTMLDocument(""),(r=document.createElement("style")).textContent=t.textContent,n.body.appendChild(r),t.sheet=r.sheet);var r=i(e.sheet.cssRules).filter(function(e){return e.selectorText&&new RegExp(a,"i").test(e.selectorText)});r.length&&(r.forEach(function(e){var t,n=e.selectorText.replace(new RegExp(a,"gi"),function(e,t,n){return t+o(n)});n!==e.selectorText&&(t=n,e=(n=e).cssText.replace(/^[^\{]+/,""),u(n,t+" "+e))}),e.textContent=s(e.sheet.cssRules))})}var u=function(e,t){var n=e.parentStyleSheet,e=i(n.cssRules).indexOf(e);n.insertRule(t,e+1),n.deleteRule(e)},s=function(e){return i(e).reduce(function(e,t){return e+t.cssText},"")};return n.rewriteCssSelectorWith=function(e,t,n){r(e,[t],function(){return n})},n.lowercaseCssTypeSelectors=function(e,t){r(e,t,function(e){return e.toLowerCase()})},n.findHtmlOnlyNodeNames=function(e){for(var t,n=e.ownerDocument.createTreeWalker(e,NodeFilter.SHOW_ELEMENT),r={},o={};t=n.currentNode.tagName.toLowerCase(),"http://www.w3.org/1999/xhtml"===n.currentNode.namespaceURI?r[t]=!0:o[t]=!0,n.nextNode(););return Object.keys(r).filter(function(e){return!o[e]})},n}()),a=function(s,h,t,f){"use strict";var e={};e.executeJavascript=function(c,l){return new Promise(function(t){function n(){f.document.getElementsByTagName("body")[0].removeChild(r)}function e(){var e=r.contentDocument;t({document:e,errors:a,cleanUp:n})}var r=function(e,t,n,r){t=e.createElement(t);return t.style.visibility="hidden",t.style.width=n+"px",t.style.height=r+"px",t.style.position="absolute",t.style.top=-1e4-r+"px",t.style.left=-1e4-n+"px",e.getElementsByTagName("body")[0].appendChild(t),t}(f.document,"iframe",l.width,l.height),o=c.outerHTML,a=[],i=l.executeJsTimeout||0,u=r.contentWindow.XMLHttpRequest,s=h.finishNotifyingXhr(u),u=h.baseUrlRespectingXhr(s,l.baseUrl);r.onload=function(){var t;(0<(t=i)?new Promise(function(e){setTimeout(e,t)}):Promise.resolve()).then(s.waitForRequestsToFinish).then(e)},r.contentDocument.open(),r.contentWindow.XMLHttpRequest=u,r.contentWindow.onerror=function(e){a.push({resourceType:"scriptExecution",msg:e})},r.contentDocument.write("<!DOCTYPE html>"),r.contentDocument.write(o),r.contentDocument.close()})};function c(e,t,n,r,o){var a,i,u,s=Math.max(e.scrollWidth,e.clientWidth),c=Math.max(e.scrollHeight,e.clientHeight),l=t?(a=(l=function(e,t){var n=e.querySelector(t);if(n)return n;if(e.ownerDocument.querySelector(t)===e)return e;throw{message:"Clipping selector not found"}}(e,t).getBoundingClientRect()).top,i=l.left,u=l.width,l.height):(i=a=0,u=s,c);return l={width:u,height:l},r=r,o=o,r={width:Math.max(l.width*o,n),height:Math.max(l.height*o,r)},e=f.getComputedStyle(e.ownerDocument.documentElement).fontSize,{left:i,top:a,width:r.width,height:r.height,viewportWidth:s,viewportHeight:c,rootFontSize:e}}e.calculateDocumentContentSize=function(i,u){return new Promise(function(n,r){var e,t,o=u.zoom||1,a=function(e,t,n){e=Math.floor(e/n),n=Math.floor(t/n);return function(e,t,n){e=e.createElement("iframe");return e.style.width=t+"px",e.style.height=n+"px",e.style.visibility="hidden",e.style.position="absolute",e.style.top=-1e4-n+"px",e.style.left=-1e4-t+"px",e.style.borderWidth=0,e.sandbox="allow-same-origin",e.scrolling="no",e}(f.document,e,n)}(u.width,u.height,o);f.document.getElementsByTagName("body")[0].appendChild(a),a.onload=function(){var e,t=a.contentDocument;try{e=c(function(e,t){e=e.tagName;return t.querySelector(e)}(i,t),u.clip,u.width,u.height,o),n(e)}catch(e){r(e)}finally{f.document.getElementsByTagName("body")[0].removeChild(a)}},a.contentDocument.open(),a.contentDocument.write("<!DOCTYPE html>"),a.contentDocument.write("html"===(t=(e=i).tagName.toLowerCase())||"body"===t?e.outerHTML:'<body style="margin: 0;">'+e.outerHTML+"</body>"),a.contentDocument.close()})},e.parseHtmlFragment=function(e){var t=f.document.implementation.createHTMLDocument("");t.documentElement.innerHTML=e;t=t.querySelector("body").firstChild;if(!t)throw"Invalid source";return t};e.parseHTML=function(e){var t=f.document.implementation.createHTMLDocument("");return t.documentElement.innerHTML=e,function(e,t){var n,r,o,a=/<html((?:\s+[^>]*)?)>/im.exec(t),t=f.document.implementation.createHTMLDocument("");if(a)for(a="<div"+a[1]+"></div>",t.documentElement.innerHTML=a,r=t.querySelector("div"),n=0;n<r.attributes.length;n++)o=r.attributes[n],e.documentElement.setAttribute(o.name,o.value)}(t,e),t};function n(e){try{return t.failOnParseError(e)}catch(e){throw{message:"Invalid source",originalError:e}}}e.validateXHTML=function(e){e=(new DOMParser).parseFromString(e,"application/xml");n(e)};function r(i,u){return new Promise(function(e,t){function n(e){t({message:"Unable to load page",originalError:e})}var r=new window.XMLHttpRequest,o=s.joinUrl(u.baseUrl,i),a=(a=o,"none"===(o=u.cache)||"repeated"===o?a+"?_="+(l=null===l||"repeated"!==o?Date.now():l):a);r.addEventListener("load",function(){200===r.status||0===r.status?e(r.responseXML):n(r.statusText)},!1),r.addEventListener("error",function(e){n(e)},!1);try{r.open("GET",a,!0),r.responseType="document",r.send(null)}catch(e){n(e)}})}var l=null;return e.loadDocument=function(e,t){return r(e,t).then(n)},e}(o,a,n,window),n=function(r){"use strict";function o(e,t){return t?URL.createObjectURL(new Blob([e],{type:"image/svg+xml"})):"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(e)}function i(e){e instanceof Blob&&URL.revokeObjectURL(e)}function a(o){return new Promise(function(t,e){var n=document.createElement("canvas"),r=new Image;r.onload=function(){var e=n.getContext("2d");try{e.drawImage(r,0,0),n.toDataURL("image/png"),t(!0)}catch(e){t(!1)}},r.onerror=e,r.src=o})}function u(t){return(e=void 0===e?n():e).then(function(e){return o(t,e)})}var e,t={},s='<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"><foreignObject></foreignObject></svg>',n=function(){return new Promise(function(t,e){var n;(function(){if(r.Blob)try{return new Blob(["<b></b>"],{type:"text/xml"}),!0}catch(e){}return!1})()&&r.URL?(n=o(s,!0),a(n).then(function(e){return i(n),!e&&a(o(s,!1)).then(function(e){return e})},function(){return!1}).then(function(e){t(!e)},function(){e()})):t(!1)})};return t.renderSvg=function(a){return new Promise(function(e,t){function n(){r&&i(r)}var r,o=new Image;o.onload=function(){o.onload=null,o.onerror=null,n(),e(o)},o.onerror=function(){n(),t()},u(a).then(function(e){r=e,o.src=r},t)})},t}(window);return function(o,a,i){"use strict";var u={};u.drawDocument=function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1),n=o.parseOptionalParameters(t),r=e.documentElement||e;return i.rasterize(r,n.canvas,(e=(t=n).canvas,r=t.options,n=e?e.width:300,e=e?e.height:200,e={width:void 0!==r.width?r.width:n,height:void 0!==r.height?r.height:e},(t=o.clone(t.options)).width=e.width,t.height=e.height,t))};u.drawHTML=function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1),t=o.parseOptionalParameters(t);return function(e,t,n){e=a.parseHTML(e);return u.drawDocument(e,t,n)}(e,t.canvas,t.options)};function n(t,n,r){return a.loadDocument(t,r).then(function(e){e=function(e,t,n){var r=document.implementation.createHTMLDocument("");r.replaceChild(e.documentElement,r.documentElement);e=n?o.clone(n):{};return n.baseUrl||(e.baseUrl=t),{document:r,options:e}}(e,t,r);return u.drawDocument(e.document,n,e.options)})}return u.drawURL=function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1),t=o.parseOptionalParameters(t);return n(e,t.canvas,t.options)},u}(o,a,function(o,a,i,r,e,u){"use strict";function s(t){return e.renderSvg(t).then(function(e){return{image:e,svg:t}},function(e){throw l(e)})}function c(e,t,n){return r.drawDocumentAsSvg(e,n).then(s).then(function(e){return t&&function(e,t){try{t.getContext("2d").drawImage(e,0,0)}catch(e){throw l(e)}}(e.image,t),e})}var t={},l=function(e){return{message:"Error rendering page",originalError:e}};return t.rasterize=function(e,n,r){var t=o.clone(r);return t.inlineScripts=!0===r.executeJs,u.inlineReferences(e,t).then(function(t){return r.executeJs?a.executeJavascript(e,r).then(function(e){var t=e.document;return i.persistInputValues(t),{document:t,errors:e.errors,cleanUp:e.cleanUp}}).then(function(e){return{element:e.document.documentElement,errors:t.concat(e.errors),cleanUp:e.cleanUp}}):{element:e,errors:t,cleanUp:function(){}}}).then(function(t){return c(t.element,n,r).then(function(e){return t.cleanUp(),{image:e.image,svg:e.svg,errors:t.errors}})})},t}(o,a,e,function(i,r,u){"use strict";function s(t){var e=Object.keys(t);return e.length?" "+e.map(function(e){return e+'="'+t[e]+'"'}).join(" "):""}function o(e,t,n){var r,o,a=u.serializeToString(e);return i.validateXHTML(a),(e=(r=t,o=Math.round(r.viewportWidth),e=Math.round(r.viewportHeight),{x:-r.left,y:-r.top,width:o,height:e})).style=(e.style||"")+"float: left;",e.externalResourcesRequired=!0,'<svg xmlns="http://www.w3.org/2000/svg"'+s(function(e,t){t=t||1,e={width:e.width,height:e.height,"font-size":e.rootFontSize};return 1!==t&&(e.style="transform:scale("+t+"); transform-origin: 0 0;"),e}(t,n))+'><style scoped="">html::-webkit-scrollbar { display: none; }</style><foreignObject'+s(e)+">"+a+"</foreignObject></svg>"}var a={};return a.getSvgForDocument=function(e,t,n){return r.rewriteTagNameSelectorsToLowerCase(e),o(e,t,n)},a.drawDocumentAsSvg=function(t,n){return["hover","active","focus","target"].forEach(function(e){n[e]&&r.fakeUserAction(t,n[e],e)}),i.calculateDocumentContentSize(t,n).then(function(e){return a.getSvgForDocument(t,e,n.zoom)})},a}(a,e,t),n,r))},void 0===(r=this)&&void 0!==window&&(r=window),"object"==typeof t&&t.exports?t.exports=o(e("url"),e("xmlserializer"),e("sane-domparser-error"),e("inlineresources")):r.rasterizeHTML=o(r.url,r.xmlserializer,r.sanedomparsererror,r.inlineresources)},{inlineresources:5,"sane-domparser-error":14,url:15,xmlserializer:17}],2:[function(c,n,r){!function(t){!function(){!function(e){"object"==typeof r&&void 0!==n?n.exports=e():("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this).cssFontFaceSrc=e()}(function(){return function r(o,a,i){function u(n,e){if(!a[n]){if(!o[n]){var t="function"==typeof c&&c;if(!e&&t)return t(n,!0);if(s)return s(n,!0);t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}t=a[n]={exports:{}};o[n][0].call(t.exports,function(e){var t=o[n][1][e];return u(t||e)},t,t.exports,r,o,a,i)}return a[n].exports}for(var s="function"==typeof c&&c,e=0;e<i.length;e++)u(i[e]);return u}({1:[function($,e,t){"use strict";function W(e,t,n,r){this.message=e,this.expected=t,this.found=n,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,W)}function n(){this.constructor=r}var r,o;r=W,o=Error,n.prototype=o.prototype,r.prototype=new n,W.buildMessage=function(e,t){var a={literal:function(e){return'"'+r(e.text)+'"'},class:function(e){for(var t="",n=0;n<e.parts.length;n++)t+=e.parts[n]instanceof Array?o(e.parts[n][0])+"-"+o(e.parts[n][1]):o(e.parts[n]);return"["+(e.inverted?"^":"")+t+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+n(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+n(e)})}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+n(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+n(e)})}return"Expected "+function(e){for(var t,n,r=new Array(e.length),o=0;o<e.length;o++)r[o]=(n=e[o],a[n.type](n));if(r.sort(),0<r.length){for(t=o=1;o<r.length;o++)r[o-1]!==r[o]&&(r[t]=r[o],t++);r.length=t}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+((t=t)?'"'+r(t)+'"':"end of input")+" found."},e.exports={SyntaxError:W,parse:function(u,e){var s={},t={start:q},n=q,r="",o=function(){return[]},c=",",l=I(",",!1),h=function(e,t){return[e].concat(t)},f=function(e){return[e]},a=function(e,t){return{url:e,format:t}},i=function(e){return{url:e}},p="url(",m=I("url(",!1),d=")",g=I(")",!1),v="format(",y=I("format(",!1),w="local(",x=I("local(",!1),b=function(e){return{local:e}},C=/^[^)]/,E=D([")"],!0,!1),R=function(e){return B.extractValue(e.join(""))},U=/^[ \t\r\n\f]/,A=D([" ","\t","\r","\n","\f"],!1,!1),S=0,T=[{line:1,column:1}],N=0,j=[],O=0;if("startRule"in(e=void 0!==e?e:{})){if(!(e.startRule in t))throw new Error("Can't start parsing from rule \""+e.startRule+'".');n=t[e.startRule]}function I(e,t){return{type:"literal",text:e,ignoreCase:t}}function D(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function P(e){var t,n=T[e];if(n)return n;for(t=e-1;!T[t];)t--;for(n={line:(n=T[t]).line,column:n.column};t<e;)10===u.charCodeAt(t)?(n.line++,n.column=1):n.column++,t++;return T[e]=n}function L(e,t){var n=P(e),r=P(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function F(e){S<N||(N<S&&(N=S,j=[]),j.push(e))}function k(e,t,n){return new W(W.buildMessage(e,t),e,t,n)}function q(){var e,t=function e(){var t,n,r,o,a,i;t=S;n=M();if(n!==s){for(r=[],o=V();o!==s;)r.push(o),o=V();if(r!==s)if(44===u.charCodeAt(S)?(o=c,S++):(o=s,0===O&&F(l)),o!==s){for(a=[],i=V();i!==s;)a.push(i),i=V();t=a!==s?(i=e())!==s?n=h(n,i):(S=t,s):(S=t,s)}else S=t,t=s;else S=t,t=s}else S=t,t=s;t===s&&(t=S,(n=M())!==s&&(n=f(n)),t=n);return t}();return t===s&&(t=S,(e=r)!==s&&(e=o()),t=e),t}function M(){var e=function(){var e,t,n,r;if(e=S,(t=H())!==s){if(n=[],(r=V())!==s)for(;r!==s;)n.push(r),r=V();else n=s;e=n!==s?(r=function(){var e,t,n,r;e=S,u.substr(S,7)===v?(t=v,S+=7):(t=s,0===O&&F(y));e=t!==s?(n=z(),n!==s?(41===u.charCodeAt(S)?(r=d,S++):(r=s,0===O&&F(g)),r!==s?t=n:(S=e,s)):(S=e,s)):(S=e,s);return e}())!==s?t=a(t,r):(S=e,s):(S=e,s)}else S=e,e=s;e===s&&(e=S,(t=H())!==s&&(t=i(t)),e=t);return e}();return e=e===s?function(){var e,t,n,r;e=S,u.substr(S,6)===w?(t=w,S+=6):(t=s,0===O&&F(x));e=t!==s?(n=z(),n!==s?(41===u.charCodeAt(S)?(r=d,S++):(r=s,0===O&&F(g)),r!==s?t=b(n):(S=e,s)):(S=e,s)):(S=e,s);return e}():e}function H(){var e,t,n,r=S;return u.substr(S,4)===p?(e=p,S+=4):(e=s,0===O&&F(m)),r=e!==s&&(t=z())!==s?(41===u.charCodeAt(S)?(n=d,S++):(n=s,0===O&&F(g)),n!==s?e=t:(S=r,s)):(S=r,s)}function z(){var e,t=S,n=[];if(C.test(u.charAt(S))?(e=u.charAt(S),S++):(e=s,0===O&&F(E)),e!==s)for(;e!==s;)n.push(e),C.test(u.charAt(S))?(e=u.charAt(S),S++):(e=s,0===O&&F(E));else n=s;return n!==s&&(n=R(n)),t=n}function V(){var e;return U.test(u.charAt(S))?(e=u.charAt(S),S++):(e=s,0===O&&F(A)),e}var B=$("../util");if((n=n())!==s&&S===u.length)return n;throw n!==s&&S<u.length&&F({type:"end"}),k(j,N<u.length?u.charAt(N):null,N<u.length?L(N,N+1):L(N,N))}}},{"../util":3}],2:[function(e,t,n){var r=e("./grammar");n.SyntaxError=function(e,t){this.message=e,this.offset=t},n.parse=function(e){try{return r.parse(e)}catch(e){throw new n.SyntaxError(e.message,e.offset)}},n.serialize=function(e){return e.map(function(e){var t;return e.url?(t='url("'+e.url+'")',e.format&&(t+=' format("'+e.format+'")')):t='local("'+e.local+'")',t}).join(", ")}},{"./grammar":1}],3:[function(e,t,n){n.extractValue=function(e){return t=e.replace(/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/,"$1"),n=/^'(.*)'$/,(e=/^"(.*)"$/).test(t)?t.replace(e,"$1"):n.test(t)?t.replace(n,"$1"):t;var t,n}},{}]},{},[2])(2)})}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){"use strict";var r=e("./cssSupport");n.extractCssUrl=function(e){var t=/^url\(("[^"]+"|'[^']+'|[^\)]+)\)/;if(!t.test(e))throw new Error("Invalid url");return e=t.exec(e)[1],r.unquoteString(e.replace(/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/,"$1"))};function o(e){var t,o="(url\\(\\s*(?:\"[^\"]*\"|'[^']*'|[^\\(]+)\\s*\\)|[^,\\s]+)",n="(?:\\s*"+o+")+",r=new RegExp(n,"g"),a=[];if(e.match(new RegExp("^\\s*((?:\\s*(url\\(\\s*(?:\"[^\"]*\"|'[^']*'|[^\\(]+)\\s*\\)|[^,\\s]+))+)(?:\\s*,\\s*((?:\\s*(url\\(\\s*(?:\"[^\"]*\"|'[^']*'|[^\\(]+)\\s*\\)|[^,\\s]+))+))*\\s*$"))){for(t=r.exec(e);t;)a.push(function(e){for(var t=new RegExp(o,"g"),n=[],r=t.exec(e);r;)n.push(r[1]),r=t.exec(e);return n}(t[0])),t=r.exec(e);return a}return[]}n.parse=function(e){return o(e).map(function(e){var t=function(e){for(var t=0;t<e.length;t++)try{return{url:n.extractCssUrl(e[t]),idx:t}}catch(e){}}(e);return t?{preUrl:e.slice(0,t.idx),url:t.url,postUrl:e.slice(t.idx+1)}:{preUrl:e}})},n.serialize=function(e){return e.map(function(e){var t=[].concat(e.preUrl);return e.url&&t.push('url("'+e.url+'")'),(t=e.postUrl?t.concat(e.postUrl):t).join(" ")}).join(", ")}},{"./cssSupport":4}],4:[function(e,t,o){"use strict";o.unquoteString=function(e){var t=/^"(.*)"$/,n=/^'(.*)'$/;return t.test(e)?e.replace(t,"$1"):n.test(e)?e.replace(n,"$1"):e},o.rulesForCssText=function(e){var t=document.implementation.createHTMLDocument(""),n=document.createElement("style");return n.textContent=e,t.body.appendChild(n),n=n.sheet.cssRules,Array.prototype.slice.call(n)},o.cssRulesToText=function(e){return e.reduce(function(e,t){return e+t.cssText},"")},o.exchangeRule=function(e,t,n){t=e.indexOf(t);e[t]=o.rulesForCssText(n)[0]},o.changeFontFaceRuleSrc=function(e,t,n){var r="@font-face { font-family: "+t.style.getPropertyValue("font-family")+"; ";t.style.getPropertyValue("font-style")&&(r+="font-style: "+t.style.getPropertyValue("font-style")+"; "),t.style.getPropertyValue("font-weight")&&(r+="font-weight: "+t.style.getPropertyValue("font-weight")+"; "),t.style.getPropertyValue("unicode-range")&&(r+="unicode-range: "+t.style.getPropertyValue("unicode-range")+"; "),o.exchangeRule(e,t,r+="src: "+n+"}")}},{}],5:[function(e,t,o){"use strict";function u(e,t){return!1!==t.cache&&"none"!==t.cache&&t.cacheBucket?c.memoize(e,l,t.cacheBucket):e}function s(r,e,t){var o=i.rulesForCssText(r);return a.loadCSSImportsForRules(o,e,t).then(function(n){return a.loadAndInlineCSSResourcesForRules(o,t).then(function(e){var t=n.errors.concat(e.errors),e=n.hasChanges||e.hasChanges;return{hasChanges:e,content:r=e?i.cssRulesToText(o):r,errors:t}})})}var c=e("./util"),n=e("./inlineImage"),r=e("./inlineScript"),a=e("./inlineCss"),i=e("./cssSupport"),l=function(n){return n.map(function(e,t){return t===n.length-1&&(e={baseUrl:(t=e.baseUrl,c.joinUrl(t,"."))}),JSON.stringify(e)})};o.loadAndInlineStyles=function(e,t){var n=function(e){e=e.getElementsByTagName("style");return Array.prototype.filter.call(e,function(e){return!e.attributes.type||"text/css"===e.attributes.type.value})}(e),o=[],a=[],i=c.clone(t);return i.baseUrl=i.baseUrl||c.getDocumentBaseUrl(e),Promise.all(n.map(function(e){return n=i,r=a,e=(t=e).textContent,u(s,n)(e,r,n).then(function(e){return e.hasChanges&&(t.childNodes[0].nodeValue=e.content),c.cloneArray(e.errors)}).then(function(e){o=o.concat(e)});var t,n,r})).then(function(){return o})};function h(n,e){return c.ajax(n,e).then(function(e){return{content:e,cssRules:i.rulesForCssText(e)}}).then(function(e){var t=a.adjustPathsOfCssResources(n,e.cssRules);return{content:e.content,cssRules:e.cssRules,hasChanges:t}}).then(function(t){return a.loadCSSImportsForRules(t.cssRules,[],e).then(function(e){return{content:t.content,cssRules:t.cssRules,hasChanges:t.hasChanges||e.hasChanges,errors:e.errors}})}).then(function(t){return a.loadAndInlineCSSResourcesForRules(t.cssRules,e).then(function(e){return{content:t.content,cssRules:t.cssRules,hasChanges:t.hasChanges||e.hasChanges,errors:t.errors.concat(e.errors)}})}).then(function(e){var t=e.content;return{content:t=e.hasChanges?i.cssRulesToText(e.cssRules):t,errors:e.errors}})}o.loadAndInlineCssLinks=function(e,o){var e=function(e){e=e.getElementsByTagName("link");return Array.prototype.filter.call(e,function(e){return e.attributes.rel&&"stylesheet"===e.attributes.rel.value&&(!e.attributes.type||"text/css"===e.attributes.type.value)})}(e),i=[];return Promise.all(e.map(function(a){return t=o,n=(e=a).attributes.href.value,r=c.getDocumentBaseUrl(e.ownerDocument),!(e=c.clone(t)).baseUrl&&r&&(e.baseUrl=r),u(h,t)(n,e).then(function(e){return{content:e.content,errors:c.cloneArray(e.errors)}}).then(function(e){var t,n,r,o;t=a,n=e.content+"\n",o=t.parentNode,(n=n.trim())&&((r=t.ownerDocument.createElement("style")).type="text/css",r.appendChild(t.ownerDocument.createTextNode(n)),o.insertBefore(r,t)),o.removeChild(t),i=i.concat(e.errors)},function(e){i.push({resourceType:"stylesheet",url:e.url,msg:"Unable to load stylesheet "+e.url})});var e,t,n,r})).then(function(){return i})},o.loadAndInlineImages=n.inline,o.loadAndInlineScript=r.inline,o.inlineReferences=function(t,n){var r=[],e=[o.loadAndInlineImages,o.loadAndInlineStyles,o.loadAndInlineCssLinks];return!1!==n.inlineScripts&&e.push(o.loadAndInlineScript),Promise.all(e.map(function(e){return e(t,n).then(function(e){r=r.concat(e)})})).then(function(){return r})}},{"./cssSupport":4,"./inlineCss":6,"./inlineImage":7,"./inlineScript":8,"./util":9}],6:[function(e,t,h){"use strict";function s(e,t,n){e.style.setProperty(t,n,e.style.getPropertyPriority(t))}function n(e){return e.filter(function(e){return e.type===window.CSSRule.STYLE_RULE&&(e.style.getPropertyValue("background-image")||e.style.getPropertyValue("background"))})}function c(e){var t=[];return e.forEach(function(e){e.style.getPropertyValue("background-image")?t.push({property:"background-image",value:e.style.getPropertyValue("background-image"),rule:e}):e.style.getPropertyValue("background")&&t.push({property:"background",value:e.style.getPropertyValue("background"),rule:e})}),t}function i(e){return e.filter(function(e){return e.type===window.CSSRule.FONT_FACE_RULE&&e.style.getPropertyValue("src")})}function f(e){return e.filter(function(e){return e.type===window.CSSRule.IMPORT_RULE&&e.href})}var p=e("./util"),m=e("./cssSupport"),l=e("./backgroundValueParser"),u=e("css-font-face-src"),d=function(e){var n=[];return e.forEach(function(e,t){e.url&&!p.isDataUri(e.url)&&n.push(t)}),n},g=function(e){var n=[];return e.forEach(function(e,t){e.url&&!p.isDataUri(e.url)&&n.push(t)}),n};h.adjustPathsOfCssResources=function(r,o){var e=n(o),e=c(e),a=!1;return e.forEach(function(e){var n=l.parse(e.value),t=d(n);0<t.length&&(t.forEach(function(e){var t=n[e].url,t=p.joinUrl(r,t);n[e].url=t}),t=l.serialize(n),s(e.rule,e.property,t),a=!0)}),i(o).forEach(function(e){var n,t=e.style.getPropertyValue("src");try{n=u.parse(t)}catch(e){return}0<(t=g(n)).length&&(t.forEach(function(e){var t=n[e].url,t=p.joinUrl(r,t);n[e].url=t}),m.changeFontFaceRuleSrc(o,e,u.serialize(n)),a=!0)}),f(o).forEach(function(e){var t=e.href,t=p.joinUrl(r,t);m.exchangeRule(o,e,"@import url("+t+");"),a=!0}),a};function v(n,e,t){var r=n.indexOf(e);n.splice(r,1),t.forEach(function(e,t){n.splice(r+t,0,e)})}h.loadCSSImportsForRules=function(t,u,s){var e=f(t),c=[],l=!1;return Promise.all(e.map(function(e){return n=t,o=u,a=s,i=(r=e).href,i=m.unquoteString(i),e=p.joinUrl(a.baseUrl,i),(0<=o.indexOf(e)?(v(n,r,[]),Promise.resolve([])):(o.push(e),p.ajax(i,a).then(function(e){var t=m.rulesForCssText(e);return h.loadCSSImportsForRules(t,o,a).then(function(e){return h.adjustPathsOfCssResources(i,t),v(n,r,t),e.errors})},function(e){throw{resourceType:"stylesheet",url:e.url,msg:"Unable to load stylesheet "+e.url}}))).then(function(e){c=c.concat(e),l=!0},function(e){c.push(e)});var n,r,o,a,i})).then(function(){return{hasChanges:l,errors:c}})};function a(e,a){var e=n(e),e=c(e),i=[],u=!1;return Promise.all(e.map(function(t){return e=t.value,n=a,r=l.parse(e),e=d(r),o=!1,p.collectAndReportErrors(e.map(function(t){var e=r[t].url;return p.getDataURIForImageURL(e,n).then(function(e){r[t].url=e,o=!0},function(e){throw{resourceType:"backgroundImage",url:e.url,msg:"Unable to load background-image "+e.url}})})).then(function(e){return{backgroundValue:l.serialize(r),hasChanges:o,errors:e}}).then(function(e){e.hasChanges&&(s(t.rule,t.property,e.backgroundValue),u=!0),i=i.concat(e.errors)});var e,n,r,o})).then(function(){return{hasChanges:u,errors:i}})}function y(n,e){var t=i(n),r=[],o=!1;return Promise.all(t.map(function(t){return function(e,r){var o,a=!1;try{o=u.parse(e)}catch(e){o=[]}return e=g(o),p.collectAndReportErrors(e.map(function(e){var t=o[e],n=t.format||"woff";return p.binaryAjax(t.url,r).then(function(e){e=btoa(e);t.url="data:font/"+n+";base64,"+e,a=!0},function(e){throw{resourceType:"fontFace",url:e.url,msg:"Unable to load font-face "+e.url}})})).then(function(e){return{srcDeclarationValue:u.serialize(o),hasChanges:a,errors:e}})}(t.style.getPropertyValue("src"),e).then(function(e){e.hasChanges&&(m.changeFontFaceRuleSrc(n,t,e.srcDeclarationValue),o=!0),r=r.concat(e.errors)})})).then(function(){return{hasChanges:o,errors:r}})}h.loadAndInlineCSSResourcesForRules=function(t,n){var r=!1,o=[];return Promise.all([a,y].map(function(e){return e(t,n).then(function(e){r=r||e.hasChanges,o=o.concat(e.errors)})})).then(function(){return{hasChanges:r,errors:o}})}},{"./backgroundValueParser":3,"./cssSupport":4,"./util":9,"css-font-face-src":2}],7:[function(e,t,n){"use strict";function o(e){return Array.prototype.slice.call(e)}var a=e("./util");n.inline=function(e,n){var t=o(e.getElementsByTagName("img")),r=o(e.getElementsByTagName("image")),e=(e=e.getElementsByTagName("input"),Array.prototype.filter.call(e,function(e){return"image"===e.type})),t=(t=(t=t.concat(r)).concat(e)).filter(function(e){var t=null;return e.hasAttribute("src")?t=e.getAttribute("src"):e.hasAttributeNS("http://www.w3.org/1999/xlink","href")?t=e.getAttributeNS("http://www.w3.org/1999/xlink","href"):e.hasAttribute("href")&&(t=e.getAttribute("href")),null!==t&&!a.isDataUri(t)});return a.collectAndReportErrors(t.map(function(t){return function(e,t){var n=null;e.hasAttribute("src")?n=e.getAttribute("src"):e.hasAttributeNS("http://www.w3.org/1999/xlink","href")?n=e.getAttributeNS("http://www.w3.org/1999/xlink","href"):e.hasAttribute("href")&&(n=e.getAttribute("href"));e=a.getDocumentBaseUrl(e.ownerDocument),t=a.clone(t);return!t.baseUrl&&e&&(t.baseUrl=e),a.getDataURIForImageURL(n,t).then(function(e){return e},function(e){throw{resourceType:"image",url:e.url,msg:"Unable to load image "+e.url}})}(t,n).then(function(e){t.attributes.src?t.attributes.src.value=e:t.attributes["xlink:href"]?t.attributes["xlink:href"].value=e:t.attributes.href&&(t.attributes.href.value=e)})}))}},{"./util":9}],8:[function(e,t,n){"use strict";var a=e("./util");n.inline=function(e,o){e=function(e){e=e.getElementsByTagName("script");return Array.prototype.filter.call(e,function(e){return!!e.attributes.src})}(e);return a.collectAndReportErrors(e.map(function(n){return t=o,r=(e=n).attributes.src.value,e=a.getDocumentBaseUrl(e.ownerDocument),!(t=a.clone(t)).baseUrl&&e&&(t.baseUrl=e),a.ajax(r,t).catch(function(e){throw{resourceType:"script",url:e.url,msg:"Unable to load script "+e.url}}).then(function(e){var t;t=e,(e=n).attributes.removeNamedItem("src"),e.textContent=t.replace(/<\//g,"<\\/")});var e,t,r}))}},{"./util":9}],9:[function(e,t,c){"use strict";var n=e("url");c.getDocumentBaseUrl=function(e){return"about:blank"!==e.baseURI?e.baseURI:null},c.clone=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},c.cloneArray=function(e){return Array.prototype.slice.apply(e,[0])},c.joinUrl=function(e,t){return e?n.resolve(e,t):t},c.isDataUri=function(e){return/^data:/.test(e)},c.collectAndReportErrors=function(e){var t=[];return Promise.all(e.map(function(e){return e.catch(function(e){t.push(e)})})).then(function(){return t})};var l=null;c.ajax=function(u,s){return new Promise(function(e,t){function n(){t({msg:"Unable to load url",url:i})}var r,o,a=new window.XMLHttpRequest,i=c.joinUrl(s.baseUrl,u);r=i,r=!1===(o=s.cache)||"none"===o||"repeated"===o?r+"?_="+(l=null===l||"repeated"!==o?Date.now():l):r,a.addEventListener("load",function(){200===a.status||0===a.status?e(a.response):n()},!1),a.addEventListener("error",n,!1);try{a.open("GET",r,!0),a.overrideMimeType(s.mimeType),a.send(null)}catch(e){n()}})},c.binaryAjax=function(e,t){t=c.clone(t);return t.mimeType="text/plain; charset=x-user-defined",c.ajax(e,t).then(function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(255&e.charCodeAt(n));return t})};function r(e){function t(e,t){return e.substring(0,t.length)===t}return t(e,"<?xml")||t(e,"<svg")?"image/svg+xml":"image/png"}c.getDataURIForImageURL=function(e,t){return c.binaryAjax(e,t).then(function(e){var t=btoa(e);return"data:"+r(e)+";base64,"+t})};var i=[];c.memoize=function(r,o,a){if("object"!=typeof a)throw new Error("cacheBucket is not an object");return function(){var e=Array.prototype.slice.call(arguments),t=o(e),n=(n=r,i.indexOf(n)<0&&i.push(n),i.indexOf(n));return a[n]&&a[n][t]?a[n][t]:(e=r.apply(null,e),a[n]=a[n]||{},a[n][t]=e)}}},{url:15}],10:[function(e,T,N){!function(S){!function(){!function(e){var t="object"==typeof N&&N&&!N.nodeType&&N,n="object"==typeof T&&T&&!T.nodeType&&T,r="object"==typeof S&&S;r.global!==r&&r.window!==r&&r.self!==r||(e=r);var o,a,g=2147483647,v=36,y=26,i=38,u=700,s=/^xn--/,c=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=v-1,w=Math.floor,x=String.fromCharCode;function b(e){throw RangeError(h[e])}function p(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function m(e,t){var n=e.split("@"),r="";return 1<n.length&&(r=n[0]+"@",e=n[1]),r+p((e=e.replace(l,".")).split("."),t).join(".")}function C(e){for(var t,n,r=[],o=0,a=e.length;o<a;)55296<=(t=e.charCodeAt(o++))&&t<=56319&&o<a?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function d(e){return p(e,function(e){var t="";return 65535<e&&(t+=x((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=x(e)}).join("")}function E(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function R(e,t,n){var r=0;for(e=n?w(e/u):e>>1,e+=w(e/t);f*y>>1<e;r+=v)e=w(e/f);return w(r+(f+1)*e/(e+i))}function U(e){var t,n,r,o,a,i,u,s=[],c=e.length,l=0,h=128,f=72,p=e.lastIndexOf("-");for(p<0&&(p=0),n=0;n<p;++n)128<=e.charCodeAt(n)&&b("not-basic"),s.push(e.charCodeAt(n));for(r=0<p?p+1:0;r<c;){for(o=l,a=1,i=v;c<=r&&b("invalid-input"),u=e.charCodeAt(r++),(v<=(u=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:v)||u>w((g-l)/a))&&b("overflow"),l+=u*a,!(u<(u=i<=f?1:f+y<=i?y:i-f));i+=v)a>w(g/(u=v-u))&&b("overflow"),a*=u;f=R(l-o,t=s.length+1,0==o),w(l/t)>g-h&&b("overflow"),h+=w(l/t),l%=t,s.splice(l++,0,h)}return d(s)}function A(e){for(var t,n,r,o,a,i,u,s,c,l,h=[],f=(e=C(e)).length,p=128,m=72,d=t=0;d<f;++d)(u=e[d])<128&&h.push(x(u));for(n=r=h.length,r&&h.push("-");n<f;){for(o=g,d=0;d<f;++d)p<=(u=e[d])&&u<o&&(o=u);for(o-p>w((g-t)/(s=n+1))&&b("overflow"),t+=(o-p)*s,p=o,d=0;d<f;++d)if((u=e[d])<p&&++t>g&&b("overflow"),u==p){for(a=t,i=v;!(a<(c=i<=m?1:m+y<=i?y:i-m));i+=v)h.push(x(E(c+(l=a-c)%(c=v-c),0))),a=w(l/c);h.push(x(E(a,0))),m=R(t,s,n==r),t=0,++n}++t,++p}return h.join("")}if(o={version:"1.3.2",ucs2:{decode:C,encode:d},decode:U,encode:A,toASCII:function(e){return m(e,function(e){return c.test(e)?"xn--"+A(e):e})},toUnicode:function(e){return m(e,function(e){return s.test(e)?U(e.slice(4).toLowerCase()):e})}},0,t&&n)if(T.exports==t)n.exports=o;else for(a in o)o.hasOwnProperty(a)&&(t[a]=o[a]);else e.punycode=o}(this)}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(t=t||"&");t=1e3;r&&"number"==typeof r.maxKeys&&(t=r.maxKeys);var i=e.length;0<t&&t<i&&(i=t);for(var u=0;u<i;++u){var s,c=e[u].replace(a,"%20"),l=c.indexOf(n),l=0<=l?(s=c.substr(0,l),c.substr(l+1)):(s=c,""),c=decodeURIComponent(s),l=decodeURIComponent(l);Object.prototype.hasOwnProperty.call(o,c)?h(o[c])?o[c].push(l):o[c]=[o[c],l]:o[c]=l}return o};var h=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],12:[function(e,t,n){"use strict";function a(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}t.exports=function(n,r,o,e){return r=r||"&",o=o||"=","object"==typeof(n=null===n?void 0:n)?u(s(n),function(e){var t=encodeURIComponent(a(e))+o;return i(n[e])?u(n[e],function(e){return t+encodeURIComponent(a(e))}).join(r):t+encodeURIComponent(a(n[e]))}).join(r):e?encodeURIComponent(a(e))+o+encodeURIComponent(a(n)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function u(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var s=Object.keys||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}},{}],13:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":11,"./encode":12}],14:[function(e,t,n){"use strict";function r(e){if(null===e)throw new Error("Parse error");if(void 0!==(e="parsererror"===(e=e).documentElement.tagName&&"http://www.mozilla.org/newlayout/xml/parsererror.xml"===e.documentElement.namespaceURI?e.documentElement:("xml"===e.documentElement.tagName||"html"===e.documentElement.tagName)&&e.documentElement.childNodes&&0<e.documentElement.childNodes.length&&"parsererror"===e.documentElement.childNodes[0].nodeName?e.documentElement.childNodes[0]:"html"===e.documentElement.tagName&&e.documentElement.childNodes&&0<e.documentElement.childNodes.length&&"body"===e.documentElement.childNodes[0].nodeName&&e.documentElement.childNodes[0].childNodes&&e.documentElement.childNodes[0].childNodes.length&&"parsererror"===e.documentElement.childNodes[0].childNodes[0].nodeName?e.documentElement.childNodes[0].childNodes[0]:void 0))throw e=function(e){for(var t,n=o(e),r=0;r<a.length;r++)if(t=a[r].exec(n))return t[1]}(e)||"Parse error",new Error(e)}var o=function(e){var t=new XMLSerializer;return Array.prototype.map.call(e.childNodes,function(e){return t.serializeToString(e)}).join("")},a=[new RegExp("^<h3[^>]*>This page contains the following errors:</h3><div[^>]*>(.+?)\n?</div>"),new RegExp("^(.+)\n")];n.failOnParseError=function(e){return r(e),e}},{}],15:[function(e,t,n){"use strict";var A=e("punycode"),S=e("./util");function b(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}n.parse=o,n.resolve=function(e,t){return o(e,!1,!0).resolve(t)},n.resolveObject=function(e,t){return e?o(e,!1,!0).resolveObject(t):t},n.format=function(e){S.isString(e)&&(e=o(e));return e instanceof b?e.format():b.prototype.format.call(e)},n.Url=b;var T=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,N=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,n=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),j=["'"].concat(n),O=["%","/","?",";","#"].concat(j),I=["/","?","#"],D=/^[+a-z0-9A-Z_-]{0,63}$/,P=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,L={javascript:!0,"javascript:":!0},F={javascript:!0,"javascript:":!0},k={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},q=e("querystring");function o(e,t,n){if(e&&S.isObject(e)&&e instanceof b)return e;var r=new b;return r.parse(e,t,n),r}b.prototype.parse=function(e,t,n){if(!S.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),o=-1!==r&&r<e.indexOf("#")?"?":"#",r=e.split(o);r[0]=r[0].replace(/\\/g,"/");var a=(a=e=r.join(o)).trim();if(!n&&1===e.split("#").length){var i=N.exec(a);if(i)return this.path=a,this.href=a,this.pathname=i[1],i[2]?(this.search=i[2],this.query=t?q.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var u,i=T.exec(a);if(i&&(U=(i=i[0]).toLowerCase(),this.protocol=U,a=a.substr(i.length)),(n||i||a.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(u="//"===a.substr(0,2))||i&&F[i]||(a=a.substr(2),this.slashes=!0)),!F[i]&&(u||i&&!k[i])){for(var s=-1,c=0;c<I.length;c++)-1!==(l=a.indexOf(I[c]))&&(-1===s||l<s)&&(s=l);-1!==(b=-1===s?a.lastIndexOf("@"):a.lastIndexOf("@",s))&&(C=a.slice(0,b),a=a.slice(b+1),this.auth=decodeURIComponent(C));for(var l,s=-1,c=0;c<O.length;c++)-1!==(l=a.indexOf(O[c]))&&(-1===s||l<s)&&(s=l);-1===s&&(s=a.length),this.host=a.slice(0,s),a=a.slice(s),this.parseHost(),this.hostname=this.hostname||"";var h="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!h)for(var f=this.hostname.split(/\./),c=0,p=f.length;c<p;c++){var m=f[c];if(m&&!m.match(D)){for(var d="",g=0,v=m.length;g<v;g++)127<m.charCodeAt(g)?d+="x":d+=m[g];if(!d.match(D)){var y=f.slice(0,c),w=f.slice(c+1),x=m.match(P);x&&(y.push(x[1]),w.unshift(x[2])),w.length&&(a="/"+w.join(".")+a),this.hostname=y.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),h||(this.hostname=A.toASCII(this.hostname));var b=this.port?":"+this.port:"",C=this.hostname||"";this.host=C+b,this.href+=this.host,h&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!L[U])for(c=0,p=j.length;c<p;c++){var E,R=j[c];-1!==a.indexOf(R)&&((E=encodeURIComponent(R))===R&&(E=escape(R)),a=a.split(R).join(E))}h=a.indexOf("#");-1!==h&&(this.hash=a.substr(h),a=a.slice(0,h));var U,h=a.indexOf("?");return-1!==h?(this.search=a.substr(h),this.query=a.substr(h+1),t&&(this.query=q.parse(this.query)),a=a.slice(0,h)):t&&(this.search="",this.query={}),a&&(this.pathname=a),k[U]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(b=this.pathname||"",U=this.search||"",this.path=b+U),this.href=this.format(),this},b.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&S.isObject(this.query)&&Object.keys(this.query).length&&(a=q.stringify(this.query));a=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||k[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o=o||"",r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+o+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(a=a.replace("#","%23"))+r},b.prototype.resolve=function(e){return this.resolveObject(o(e,!1,!0)).format()},b.prototype.resolveObject=function(e){S.isString(e)&&((p=new b).parse(e,!1,!0),e=p);for(var t=new b,n=Object.keys(this),r=0;r<n.length;r++){var o=n[r];t[o]=this[o]}if(t.hash=e.hash,""===e.href)return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),i=0;i<a.length;i++){var u=a[i];"protocol"!==u&&(t[u]=e[u])}return k[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!k[e.protocol]){for(var s=Object.keys(e),c=0;c<s.length;c++){var l=s[c];t[l]=e[l]}return t.href=t.format(),t}if(t.protocol=e.protocol,e.host||F[e.protocol])t.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),t.pathname=h.join("/")}return t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,(t.pathname||t.search)&&(m=t.pathname||"",d=t.search||"",t.path=m+d),t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var f=t.pathname&&"/"===t.pathname.charAt(0),p=e.host||e.pathname&&"/"===e.pathname.charAt(0),m=p||f||t.host&&e.pathname,d=m,g=t.pathname&&t.pathname.split("/")||[],h=e.pathname&&e.pathname.split("/")||[],f=t.protocol&&!k[t.protocol];if(f&&(t.hostname="",t.port=null,t.host&&(""===g[0]?g[0]=t.host:g.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),m=m&&(""===h[0]||""===g[0])),p)t.host=(e.host||""===e.host?e:t).host,t.hostname=(e.hostname||""===e.hostname?e:t).hostname,t.search=e.search,t.query=e.query,g=h;else if(h.length)(g=g||[]).pop(),g=g.concat(h),t.search=e.search,t.query=e.query;else if(!S.isNullOrUndefined(e.search))return f&&(t.hostname=t.host=g.shift(),(x=!!(t.host&&0<t.host.indexOf("@"))&&t.host.split("@"))&&(t.auth=x.shift(),t.host=t.hostname=x.shift())),t.search=e.search,t.query=e.query,S.isNull(t.pathname)&&S.isNull(t.search)||(t.path=(t.pathname||"")+(t.search||"")),t.href=t.format(),t;if(!g.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var v=g.slice(-1)[0],p=(t.host||e.host||1<g.length)&&("."===v||".."===v)||""===v,y=0,w=g.length;0<=w;w--)"."===(v=g[w])?g.splice(w,1):".."===v?(g.splice(w,1),y++):y&&(g.splice(w,1),y--);if(!m&&!d)for(;y--;)g.unshift("..");!m||""===g[0]||g[0]&&"/"===g[0].charAt(0)||g.unshift(""),p&&"/"!==g.join("/").substr(-1)&&g.push("");var x,p=""===g[0]||g[0]&&"/"===g[0].charAt(0);return f&&(t.hostname=t.host=!p&&g.length?g.shift():"",(x=!!(t.host&&0<t.host.indexOf("@"))&&t.host.split("@"))&&(t.auth=x.shift(),t.host=t.hostname=x.shift())),(m=m||t.host&&g.length)&&!p&&g.unshift(""),g.length?t.pathname=g.join("/"):(t.pathname=null,t.path=null),S.isNull(t.pathname)&&S.isNull(t.search)||(t.path=(t.pathname||"")+(t.search||"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t},b.prototype.parseHost=function(){var e=this.host,t=r.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":16,punycode:10,querystring:13}],16:[function(e,t,n){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],17:[function(e,t,n){var r,o;r=this,o=function(){var o=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},a=function(e){var t=e.value;return" "+e.name+'="'+t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+'"'},i=function(e){var t=e.tagName;return t="http://www.w3.org/1999/xhtml"===e.namespaceURI?t.toLowerCase():t},u=function(e,t){return 0<=Array.prototype.map.call(e.attributes||e.attrs,function(e){return e.name}).indexOf("xmlns")||!t&&e.namespaceURI===e.parentNode.namespaceURI?"":' xmlns="'+e.namespaceURI+'"'},s=function(e){return Array.prototype.map.call(e.childNodes,function(e){return t(e)}).join("")},t=function(e,t){var n,r=t&&t.rootNode;return"#document"===e.nodeName||"#document-fragment"===e.nodeName?s(e):e.tagName?(t=r,n="<"+i(r=e),n+=u(r,t),Array.prototype.forEach.call(r.attributes||r.attrs,function(e){n+=a(e)}),0<r.childNodes.length?(n+=">",n+=s(r),n+="</"+i(r)+">"):n+="/>",n):"#text"===e.nodeName?function(e){e=e.nodeValue||e.value||"";return o(e)}(e):"#comment"===e.nodeName?"\x3c!--"+e.data.replace(/-/g,"&#45;")+"--\x3e":"#cdata-section"===e.nodeName?"<![CDATA["+e.nodeValue+"]]>":void 0};return{serializeToString:function(e){return t(e,{rootNode:!0}).replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")}}},"object"==typeof t&&t.exports?t.exports=o():r.xmlserializer=o()},{}]},{},[1])(1)});
\ No newline at end of file
+!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).rasterizeHTML=e()}(function(){return function r(o,a,i){function s(t,e){if(!a[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=a[t]={exports:{}},o[t][0].call(n.exports,function(e){return s(o[t][1][e]||e)},n,n.exports,r,o,a,i)}return a[t].exports}for(var u="function"==typeof require&&require,e=0;e<i.length;e++)s(i[e]);return s}({1:[function(c,n,r){!function(t){!function(){!function(e){"object"==typeof r&&void 0!==n?n.exports=e():("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this).cssFontFaceSrc=e()}(function(){return function r(o,a,i){function s(n,e){if(!a[n]){if(!o[n]){var t="function"==typeof c&&c;if(!e&&t)return t(n,!0);if(u)return u(n,!0);t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}t=a[n]={exports:{}};o[n][0].call(t.exports,function(e){var t=o[n][1][e];return s(t||e)},t,t.exports,r,o,a,i)}return a[n].exports}for(var u="function"==typeof c&&c,e=0;e<i.length;e++)s(i[e]);return s}({1:[function($,e,t){"use strict";function W(e,t,n,r){this.message=e,this.expected=t,this.found=n,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,W)}function n(){this.constructor=r}var r,o;r=W,o=Error,n.prototype=o.prototype,r.prototype=new n,W.buildMessage=function(e,t){var a={literal:function(e){return'"'+r(e.text)+'"'},class:function(e){for(var t="",n=0;n<e.parts.length;n++)t+=e.parts[n]instanceof Array?o(e.parts[n][0])+"-"+o(e.parts[n][1]):o(e.parts[n]);return"["+(e.inverted?"^":"")+t+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+n(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+n(e)})}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+n(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+n(e)})}return"Expected "+function(e){for(var t,n,r=new Array(e.length),o=0;o<e.length;o++)r[o]=(n=e[o],a[n.type](n));if(r.sort(),0<r.length){for(t=o=1;o<r.length;o++)r[o-1]!==r[o]&&(r[t]=r[o],t++);r.length=t}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+((t=t)?'"'+r(t)+'"':"end of input")+" found."},e.exports={SyntaxError:W,parse:function(s,e){var u={},t={start:q},n=q,r="",o=function(){return[]},c=",",l=I(",",!1),h=function(e,t){return[e].concat(t)},f=function(e){return[e]},a=function(e,t){return{url:e,format:t}},i=function(e){return{url:e}},p="url(",m=I("url(",!1),d=")",g=I(")",!1),v="format(",y=I("format(",!1),w="local(",x=I("local(",!1),b=function(e){return{local:e}},C=/^[^)]/,E=D([")"],!0,!1),R=function(e){return B.extractValue(e.join(""))},U=/^[ \t\r\n\f]/,A=D([" ","\t","\r","\n","\f"],!1,!1),S=0,T=[{line:1,column:1}],N=0,j=[],O=0;if("startRule"in(e=void 0!==e?e:{})){if(!(e.startRule in t))throw new Error("Can't start parsing from rule \""+e.startRule+'".');n=t[e.startRule]}function I(e,t){return{type:"literal",text:e,ignoreCase:t}}function D(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function P(e){var t,n=T[e];if(n)return n;for(t=e-1;!T[t];)t--;for(n={line:(n=T[t]).line,column:n.column};t<e;)10===s.charCodeAt(t)?(n.line++,n.column=1):n.column++,t++;return T[e]=n}function L(e,t){var n=P(e),r=P(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function F(e){S<N||(N<S&&(N=S,j=[]),j.push(e))}function k(e,t,n){return new W(W.buildMessage(e,t),e,t,n)}function q(){var e,t=function e(){var t,n,r,o,a,i;t=S;n=M();if(n!==u){for(r=[],o=V();o!==u;)r.push(o),o=V();if(r!==u)if(44===s.charCodeAt(S)?(o=c,S++):(o=u,0===O&&F(l)),o!==u){for(a=[],i=V();i!==u;)a.push(i),i=V();t=a!==u?(i=e())!==u?n=h(n,i):(S=t,u):(S=t,u)}else S=t,t=u;else S=t,t=u}else S=t,t=u;t===u&&(t=S,(n=M())!==u&&(n=f(n)),t=n);return t}();return t===u&&(t=S,(e=r)!==u&&(e=o()),t=e),t}function M(){var e=function(){var e,t,n,r;if(e=S,(t=H())!==u){if(n=[],(r=V())!==u)for(;r!==u;)n.push(r),r=V();else n=u;e=n!==u?(r=function(){var e,t,n,r;e=S,s.substr(S,7)===v?(t=v,S+=7):(t=u,0===O&&F(y));e=t!==u?(n=z(),n!==u?(41===s.charCodeAt(S)?(r=d,S++):(r=u,0===O&&F(g)),r!==u?t=n:(S=e,u)):(S=e,u)):(S=e,u);return e}())!==u?t=a(t,r):(S=e,u):(S=e,u)}else S=e,e=u;e===u&&(e=S,(t=H())!==u&&(t=i(t)),e=t);return e}();return e=e===u?function(){var e,t,n,r;e=S,s.substr(S,6)===w?(t=w,S+=6):(t=u,0===O&&F(x));e=t!==u?(n=z(),n!==u?(41===s.charCodeAt(S)?(r=d,S++):(r=u,0===O&&F(g)),r!==u?t=b(n):(S=e,u)):(S=e,u)):(S=e,u);return e}():e}function H(){var e,t,n,r=S;return s.substr(S,4)===p?(e=p,S+=4):(e=u,0===O&&F(m)),r=e!==u&&(t=z())!==u?(41===s.charCodeAt(S)?(n=d,S++):(n=u,0===O&&F(g)),n!==u?e=t:(S=r,u)):(S=r,u)}function z(){var e,t=S,n=[];if(C.test(s.charAt(S))?(e=s.charAt(S),S++):(e=u,0===O&&F(E)),e!==u)for(;e!==u;)n.push(e),C.test(s.charAt(S))?(e=s.charAt(S),S++):(e=u,0===O&&F(E));else n=u;return n!==u&&(n=R(n)),t=n}function V(){var e;return U.test(s.charAt(S))?(e=s.charAt(S),S++):(e=u,0===O&&F(A)),e}var B=$("../util");if((n=n())!==u&&S===s.length)return n;throw n!==u&&S<s.length&&F({type:"end"}),k(j,N<s.length?s.charAt(N):null,N<s.length?L(N,N+1):L(N,N))}}},{"../util":3}],2:[function(e,t,n){var r=e("./grammar");n.SyntaxError=function(e,t){this.message=e,this.offset=t},n.parse=function(e){try{return r.parse(e)}catch(e){throw new n.SyntaxError(e.message,e.offset)}},n.serialize=function(e){return e.map(function(e){var t;return e.url?(t='url("'+e.url+'")',e.format&&(t+=' format("'+e.format+'")')):t='local("'+e.local+'")',t}).join(", ")}},{"./grammar":1}],3:[function(e,t,n){n.extractValue=function(e){return t=e.replace(/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/,"$1"),n=/^'(.*)'$/,(e=/^"(.*)"$/).test(t)?t.replace(e,"$1"):n.test(t)?t.replace(n,"$1"):t;var t,n}},{}]},{},[2])(2)})}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var r=e("./cssSupport");n.extractCssUrl=function(e){var t=/^url\(("[^"]+"|'[^']+'|[^\)]+)\)/;if(!t.test(e))throw new Error("Invalid url");return e=t.exec(e)[1],r.unquoteString(e.replace(/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/,"$1"))};function o(e){var t,o="(url\\(\\s*(?:\"[^\"]*\"|'[^']*'|[^\\(]+)\\s*\\)|[^,\\s]+)",n="(?:\\s*"+o+")+",r=new RegExp(n,"g"),a=[];if(e.match(new RegExp("^\\s*((?:\\s*(url\\(\\s*(?:\"[^\"]*\"|'[^']*'|[^\\(]+)\\s*\\)|[^,\\s]+))+)(?:\\s*,\\s*((?:\\s*(url\\(\\s*(?:\"[^\"]*\"|'[^']*'|[^\\(]+)\\s*\\)|[^,\\s]+))+))*\\s*$"))){for(t=r.exec(e);t;)a.push(function(e){for(var t=new RegExp(o,"g"),n=[],r=t.exec(e);r;)n.push(r[1]),r=t.exec(e);return n}(t[0])),t=r.exec(e);return a}return[]}n.parse=function(e){return o(e).map(function(e){var t=function(e){for(var t=0;t<e.length;t++)try{return{url:n.extractCssUrl(e[t]),idx:t}}catch(e){}}(e);return t?{preUrl:e.slice(0,t.idx),url:t.url,postUrl:e.slice(t.idx+1)}:{preUrl:e}})},n.serialize=function(e){return e.map(function(e){var t=[].concat(e.preUrl);return e.url&&t.push('url("'+e.url+'")'),(t=e.postUrl?t.concat(e.postUrl):t).join(" ")}).join(", ")}},{"./cssSupport":3}],3:[function(e,t,a){"use strict";a.unquoteString=function(e){var t=/^"(.*)"$/,n=/^'(.*)'$/;return t.test(e)?e.replace(t,"$1"):n.test(e)?e.replace(n,"$1"):e},a.rulesForCssText=function(e,t){var n=document.implementation.createHTMLDocument(""),r=document.createElement("style");return r.textContent=e,t&&(r.nonce=t),n.body.appendChild(r),r=r.sheet.cssRules,Array.prototype.slice.call(r)},a.cssRulesToText=function(e){return e.reduce(function(e,t){return e+t.cssText},"")},a.exchangeRule=function(e,t,n,r){t=e.indexOf(t);e[t]=a.rulesForCssText(n,r)[0]},a.changeFontFaceRuleSrc=function(e,t,n,r){var o="@font-face { font-family: "+t.style.getPropertyValue("font-family")+"; ";t.style.getPropertyValue("font-style")&&(o+="font-style: "+t.style.getPropertyValue("font-style")+"; "),t.style.getPropertyValue("font-weight")&&(o+="font-weight: "+t.style.getPropertyValue("font-weight")+"; "),t.style.getPropertyValue("unicode-range")&&(o+="unicode-range: "+t.style.getPropertyValue("unicode-range")+"; "),a.exchangeRule(e,t,o+="src: "+n+"}",r)}},{}],4:[function(e,t,o){"use strict";function s(e,t){return!1!==t.cache&&"none"!==t.cache&&t.cacheBucket?c.memoize(e,l,t.cacheBucket):e}function u(r,e,t){var o=i.rulesForCssText(r,t.nonce);return a.loadCSSImportsForRules(o,e,t).then(function(n){return a.loadAndInlineCSSResourcesForRules(o,t).then(function(e){var t=n.errors.concat(e.errors),e=n.hasChanges||e.hasChanges;return{hasChanges:e,content:r=e?i.cssRulesToText(o):r,errors:t}})})}var c=e("./util"),n=e("./inlineImage"),r=e("./inlineScript"),a=e("./inlineCss"),i=e("./cssSupport"),l=function(n){return n.map(function(e,t){return t===n.length-1&&(e={baseUrl:(t=e.baseUrl,c.joinUrl(t,"."))}),JSON.stringify(e)})};o.loadAndInlineStyles=function(e,t){var n=function(e){e=e.getElementsByTagName("style");return Array.prototype.filter.call(e,function(e){return!e.attributes.type||"text/css"===e.attributes.type.value})}(e),o=[],a=[],i=c.clone(t);return i.baseUrl=i.baseUrl||c.getDocumentBaseUrl(e),Promise.all(n.map(function(e){return n=i,r=a,e=(t=e).textContent,s(u,n)(e,r,n).then(function(e){return e.hasChanges&&(t.childNodes[0].nodeValue=e.content),c.cloneArray(e.errors)}).then(function(e){o=o.concat(e)});var t,n,r})).then(function(){return o})};function h(n,r){return c.ajax(n,r).then(function(e){return{content:e,cssRules:i.rulesForCssText(e,r.nonce)}}).then(function(e){var t=a.adjustPathsOfCssResources(n,e.cssRules,r.nonce);return{content:e.content,cssRules:e.cssRules,hasChanges:t}}).then(function(t){return a.loadCSSImportsForRules(t.cssRules,[],r).then(function(e){return{content:t.content,cssRules:t.cssRules,hasChanges:t.hasChanges||e.hasChanges,errors:e.errors}})}).then(function(t){return a.loadAndInlineCSSResourcesForRules(t.cssRules,r).then(function(e){return{content:t.content,cssRules:t.cssRules,hasChanges:t.hasChanges||e.hasChanges,errors:t.errors.concat(e.errors)}})}).then(function(e){var t=e.content;return{content:t=e.hasChanges?i.cssRulesToText(e.cssRules):t,errors:e.errors}})}o.loadAndInlineCssLinks=function(e,o){var e=function(e){e=e.getElementsByTagName("link");return Array.prototype.filter.call(e,function(e){return e.attributes.rel&&"stylesheet"===e.attributes.rel.value&&(!e.attributes.type||"text/css"===e.attributes.type.value)})}(e),i=[];return Promise.all(e.map(function(a){return t=o,n=(e=a).attributes.href.value,r=c.getDocumentBaseUrl(e.ownerDocument),!(e=c.clone(t)).baseUrl&&r&&(e.baseUrl=r),s(h,t)(n,e).then(function(e){return{content:e.content,errors:c.cloneArray(e.errors)}}).then(function(e){var t,n,r,o;t=a,n=e.content+"\n",o=t.parentNode,(n=n.trim())&&((r=t.ownerDocument.createElement("style")).type="text/css",r.appendChild(t.ownerDocument.createTextNode(n)),o.insertBefore(r,t)),o.removeChild(t),i=i.concat(e.errors)},function(e){i.push({resourceType:"stylesheet",url:e.url,msg:"Unable to load stylesheet "+e.url})});var e,t,n,r})).then(function(){return i})},o.loadAndInlineImages=n.inline,o.loadAndInlineScript=r.inline,o.inlineReferences=function(t,n){var r=[],e=[o.loadAndInlineImages,o.loadAndInlineStyles,o.loadAndInlineCssLinks];return!1!==n.inlineScripts&&e.push(o.loadAndInlineScript),Promise.all(e.map(function(e){return e(t,n).then(function(e){r=r.concat(e)})})).then(function(){return r})}},{"./cssSupport":3,"./inlineCss":5,"./inlineImage":6,"./inlineScript":7,"./util":8}],5:[function(e,t,h){"use strict";function u(e,t,n){e.style.setProperty(t,n,e.style.getPropertyPriority(t))}function n(e){return e.filter(function(e){return e.type===window.CSSRule.STYLE_RULE&&(e.style.getPropertyValue("background-image")||e.style.getPropertyValue("background"))})}function c(e){var t=[];return e.forEach(function(e){e.style.getPropertyValue("background-image")?t.push({property:"background-image",value:e.style.getPropertyValue("background-image"),rule:e}):e.style.getPropertyValue("background")&&t.push({property:"background",value:e.style.getPropertyValue("background"),rule:e})}),t}function s(e){return e.filter(function(e){return e.type===window.CSSRule.FONT_FACE_RULE&&e.style.getPropertyValue("src")})}function f(e){return e.filter(function(e){return e.type===window.CSSRule.IMPORT_RULE&&e.href})}var p=e("./util"),m=e("./cssSupport"),l=e("./backgroundValueParser"),d=e("css-font-face-src"),g=function(e){var n=[];return e.forEach(function(e,t){e.url&&!p.isDataUri(e.url)&&n.push(t)}),n},v=function(e){var n=[];return e.forEach(function(e,t){e.url&&!p.isDataUri(e.url)&&n.push(t)}),n};h.adjustPathsOfCssResources=function(r,o,a){var e=n(o),e=c(e),i=!1;return e.forEach(function(e){var n=l.parse(e.value),t=g(n);0<t.length&&(t.forEach(function(e){var t=n[e].url,t=p.joinUrl(r,t);n[e].url=t}),t=l.serialize(n),u(e.rule,e.property,t),i=!0)}),s(o).forEach(function(e){var n,t=e.style.getPropertyValue("src");try{n=d.parse(t)}catch(e){return}0<(t=v(n)).length&&(t.forEach(function(e){var t=n[e].url,t=p.joinUrl(r,t);n[e].url=t}),m.changeFontFaceRuleSrc(o,e,d.serialize(n,a)),i=!0)}),f(o).forEach(function(e){var t=e.href,t=p.joinUrl(r,t);m.exchangeRule(o,e,"@import url("+t+");",a),i=!0}),i};function y(n,e,t){var r=n.indexOf(e);n.splice(r,1),t.forEach(function(e,t){n.splice(r+t,0,e)})}h.loadCSSImportsForRules=function(t,s,u){var e=f(t),c=[],l=!1;return Promise.all(e.map(function(e){return n=t,o=s,a=u,i=(r=e).href,i=m.unquoteString(i),e=p.joinUrl(a.baseUrl,i),(0<=o.indexOf(e)?(y(n,r,[]),Promise.resolve([])):(o.push(e),p.ajax(i,a).then(function(e){var t=m.rulesForCssText(e,a.nonce);return h.loadCSSImportsForRules(t,o,a).then(function(e){return h.adjustPathsOfCssResources(i,t,a.nonce),y(n,r,t),e.errors})},function(e){throw{resourceType:"stylesheet",url:e.url,msg:"Unable to load stylesheet "+e.url}}))).then(function(e){c=c.concat(e),l=!0},function(e){c.push(e)});var n,r,o,a,i})).then(function(){return{hasChanges:l,errors:c}})};function a(e,a){var e=n(e),e=c(e),i=[],s=!1;return Promise.all(e.map(function(t){return e=t.value,n=a,r=l.parse(e),e=g(r),o=!1,p.collectAndReportErrors(e.map(function(t){var e=r[t].url;return p.getDataURIForImageURL(e,n).then(function(e){r[t].url=e,o=!0},function(e){throw{resourceType:"backgroundImage",url:e.url,msg:"Unable to load background-image "+e.url}})})).then(function(e){return{backgroundValue:l.serialize(r),hasChanges:o,errors:e}}).then(function(e){e.hasChanges&&(u(t.rule,t.property,e.backgroundValue),s=!0),i=i.concat(e.errors)});var e,n,r,o})).then(function(){return{hasChanges:s,errors:i}})}function i(n,r){var e=s(n),o=[],a=!1;return Promise.all(e.map(function(t){return function(e,r){var o,a=!1;try{o=d.parse(e)}catch(e){o=[]}return e=v(o),p.collectAndReportErrors(e.map(function(e){var t=o[e],n=t.format||"woff";return p.binaryAjax(t.url,r).then(function(e){e=btoa(e);t.url="data:font/"+n+";base64,"+e,a=!0},function(e){throw{resourceType:"fontFace",url:e.url,msg:"Unable to load font-face "+e.url}})})).then(function(e){return{srcDeclarationValue:d.serialize(o),hasChanges:a,errors:e}})}(t.style.getPropertyValue("src"),r).then(function(e){e.hasChanges&&(m.changeFontFaceRuleSrc(n,t,e.srcDeclarationValue,r.nonce),a=!0),o=o.concat(e.errors)})})).then(function(){return{hasChanges:a,errors:o}})}h.loadAndInlineCSSResourcesForRules=function(t,n){var r=!1,o=[];return Promise.all([a,i].map(function(e){return e(t,n).then(function(e){r=r||e.hasChanges,o=o.concat(e.errors)})})).then(function(){return{hasChanges:r,errors:o}})}},{"./backgroundValueParser":2,"./cssSupport":3,"./util":8,"css-font-face-src":1}],6:[function(e,t,n){"use strict";function o(e){return Array.prototype.slice.call(e)}var a=e("./util");n.inline=function(e,n){var t=o(e.getElementsByTagName("img")),r=o(e.getElementsByTagName("image")),e=(e=e.getElementsByTagName("input"),Array.prototype.filter.call(e,function(e){return"image"===e.type})),t=(t=(t=t.concat(r)).concat(e)).filter(function(e){var t=null;return e.hasAttribute("src")?t=e.getAttribute("src"):e.hasAttributeNS("http://www.w3.org/1999/xlink","href")?t=e.getAttributeNS("http://www.w3.org/1999/xlink","href"):e.hasAttribute("href")&&(t=e.getAttribute("href")),null!==t&&!a.isDataUri(t)});return a.collectAndReportErrors(t.map(function(t){return function(e,t){var n=null;e.hasAttribute("src")?n=e.getAttribute("src"):e.hasAttributeNS("http://www.w3.org/1999/xlink","href")?n=e.getAttributeNS("http://www.w3.org/1999/xlink","href"):e.hasAttribute("href")&&(n=e.getAttribute("href"));e=a.getDocumentBaseUrl(e.ownerDocument),t=a.clone(t);return!t.baseUrl&&e&&(t.baseUrl=e),a.getDataURIForImageURL(n,t).then(function(e){return e},function(e){throw{resourceType:"image",url:e.url,msg:"Unable to load image "+e.url}})}(t,n).then(function(e){t.attributes.src?t.attributes.src.value=e:t.attributes["xlink:href"]?t.attributes["xlink:href"].value=e:t.attributes.href&&(t.attributes.href.value=e)})}))}},{"./util":8}],7:[function(e,t,n){"use strict";var a=e("./util");n.inline=function(e,o){e=function(e){e=e.getElementsByTagName("script");return Array.prototype.filter.call(e,function(e){return!!e.attributes.src})}(e);return a.collectAndReportErrors(e.map(function(n){return t=o,r=(e=n).attributes.src.value,e=a.getDocumentBaseUrl(e.ownerDocument),!(t=a.clone(t)).baseUrl&&e&&(t.baseUrl=e),a.ajax(r,t).catch(function(e){throw{resourceType:"script",url:e.url,msg:"Unable to load script "+e.url}}).then(function(e){var t;t=e,(e=n).attributes.removeNamedItem("src"),e.textContent=t.replace(/<\//g,"<\\/")});var e,t,r}))}},{"./util":8}],8:[function(e,t,c){"use strict";var n=e("url");c.getDocumentBaseUrl=function(e){return"about:blank"!==e.baseURI?e.baseURI:null},c.clone=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},c.cloneArray=function(e){return Array.prototype.slice.apply(e,[0])},c.joinUrl=function(e,t){return e?n.resolve(e,t):t},c.isDataUri=function(e){return/^data:/.test(e)},c.collectAndReportErrors=function(e){var t=[];return Promise.all(e.map(function(e){return e.catch(function(e){t.push(e)})})).then(function(){return t})};var l=null;c.ajax=function(s,u){return new Promise(function(e,t){function n(){t({msg:"Unable to load url",url:i})}var r,o,a=new window.XMLHttpRequest,i=c.joinUrl(u.baseUrl,s);r=i,r=!1===(o=u.cache)||"none"===o||"repeated"===o?r+"?_="+(l=null===l||"repeated"!==o?Date.now():l):r,a.addEventListener("load",function(){200===a.status||0===a.status?e(a.response):n()},!1),a.addEventListener("error",n,!1);try{a.open("GET",r,!0),a.overrideMimeType(u.mimeType),a.send(null)}catch(e){n()}})},c.binaryAjax=function(e,t){t=c.clone(t);return t.mimeType="text/plain; charset=x-user-defined",c.ajax(e,t).then(function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(255&e.charCodeAt(n));return t})};function r(e){function t(e,t){return e.substring(0,t.length)===t}return t(e,"<?xml")||t(e,"<svg")?"image/svg+xml":"image/png"}c.getDataURIForImageURL=function(e,t){return c.binaryAjax(e,t).then(function(e){var t=btoa(e);return"data:"+r(e)+";base64,"+t})};var i=[];c.memoize=function(r,o,a){if("object"!=typeof a)throw new Error("cacheBucket is not an object");return function(){var e=Array.prototype.slice.call(arguments),t=o(e),n=(n=r,i.indexOf(n)<0&&i.push(n),i.indexOf(n));return a[n]&&a[n][t]?a[n][t]:(e=r.apply(null,e),a[n]=a[n]||{},a[n][t]=e)}}},{url:15}],9:[function(e,t,n){var r,o;o=function(e,t,n,r){var o=function(n){"use strict";var o={},t=[];o.joinUrl=function(e,t){return e?n.resolve(e,t):t},o.getConstantUniqueIdFor=function(e){return t.indexOf(e)<0&&t.push(e),t.indexOf(e)},o.clone=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n};return o.parseOptionalParameters=function(e){var t,n,r={canvas:null,options:{}};return null==e[0]||(t=e[0],"object"==typeof(n=t)&&null!==n&&Object.prototype.toString.apply(t).match(/\[object (Canvas|HTMLCanvasElement|OffscreenCanvas)\]/i))?(r.canvas=e[0]||null,r.options=o.clone(e[1])):r.options=o.clone(e[0]),r},o}(e),a=function(a){"use strict";function s(e,t,n){var r=e[t];return e[t]=function(){var e=Array.prototype.slice.call(arguments);return n.apply(this,[e,r])},r}var e={};return e.baseUrlRespectingXhr=function(t,o){return function(){var e=new t;return s(e,"open",function(e,t){var n=e.shift(),r=e.shift(),r=a.joinUrl(o,r);return t.apply(this,[n,r].concat(e))}),e}},e.finishNotifyingXhr=function(t){function e(){var e=new t;return s(e,"send",function(e,t){return r+=1,t.apply(this,arguments)}),e.addEventListener("load",function(){o+=1,n()}),e}var n,r=0,o=0,a=!1,i=new Promise(function(e){n=function(){r-o<=0&&a&&e({totalCount:r})}});return e.waitForRequestsToFinish=function(){return a=!0,n(),i},e},e}(o),e=function(a){"use strict";function r(e){return Array.prototype.slice.call(e)}var e={},i={active:!0,hover:!0,focus:!1,target:!1};return e.fakeUserAction=function(e,t,n){var r=e.querySelector(t),o=":"+n,t="rasterizehtml"+n;r&&(i[n]?a.addClassNameRecursively(r,t):a.addClassName(r,t),a.rewriteCssSelectorWith(e,o,"."+t))},e.persistInputValues=function(e){function t(e){return"checkbox"===e.type||"radio"===e.type}var n=e.querySelectorAll("input"),e=e.querySelectorAll("textarea");r(n).filter(t).forEach(function(e){e.checked?e.setAttribute("checked",""):e.removeAttribute("checked")}),r(n).filter(function(e){return!t(e)}).forEach(function(e){e.setAttribute("value",e.value)}),r(e).forEach(function(e){e.textContent=e.value})},e.rewriteTagNameSelectorsToLowerCase=function(e){a.lowercaseCssTypeSelectors(e,a.findHtmlOnlyNodeNames(e))},e}(function(){"use strict";function i(e){return Array.prototype.slice.call(e)}var n={};n.addClassName=function(e,t){e.className+=" "+t},n.addClassNameRecursively=function(e,t){n.addClassName(e,t),e.parentNode!==e.ownerDocument&&n.addClassNameRecursively(e.parentNode,t)};function r(e,t,o){var a="((?:^|[^.#:\\w])|(?=\\W))("+t.join("|")+")(?=\\W|$)";i(e.querySelectorAll("style")).forEach(function(e){var t,n;void 0===e.sheet&&(t=e,n=document.implementation.createHTMLDocument(""),(r=document.createElement("style")).textContent=t.textContent,n.body.appendChild(r),t.sheet=r.sheet);var r=i(e.sheet.cssRules).filter(function(e){return e.selectorText&&new RegExp(a,"i").test(e.selectorText)});r.length&&(r.forEach(function(e){var t,n=e.selectorText.replace(new RegExp(a,"gi"),function(e,t,n){return t+o(n)});n!==e.selectorText&&(t=n,e=(n=e).cssText.replace(/^[^\{]+/,""),s(n,t+" "+e))}),e.textContent=u(e.sheet.cssRules))})}var s=function(e,t){var n=e.parentStyleSheet,e=i(n.cssRules).indexOf(e);n.insertRule(t,e+1),n.deleteRule(e)},u=function(e){return i(e).reduce(function(e,t){return e+t.cssText},"")};return n.rewriteCssSelectorWith=function(e,t,n){r(e,[t],function(){return n})},n.lowercaseCssTypeSelectors=function(e,t){r(e,t,function(e){return e.toLowerCase()})},n.findHtmlOnlyNodeNames=function(e){for(var t,n=e.ownerDocument.createTreeWalker(e,NodeFilter.SHOW_ELEMENT),r={},o={};t=n.currentNode.tagName.toLowerCase(),"http://www.w3.org/1999/xhtml"===n.currentNode.namespaceURI?r[t]=!0:o[t]=!0,n.nextNode(););return Object.keys(r).filter(function(e){return!o[e]})},n}()),a=function(u,h,t,f){"use strict";var e={};e.executeJavascript=function(c,l){return new Promise(function(t){function n(){f.document.getElementsByTagName("body")[0].removeChild(r)}function e(){var e=r.contentDocument;t({document:e,errors:a,cleanUp:n})}var r=function(e,t,n,r){t=e.createElement(t);return t.style.visibility="hidden",t.style.width=n+"px",t.style.height=r+"px",t.style.position="absolute",t.style.top=-1e4-r+"px",t.style.left=-1e4-n+"px",e.getElementsByTagName("body")[0].appendChild(t),t}(f.document,"iframe",l.width,l.height),o=c.outerHTML,a=[],i=l.executeJsTimeout||0,s=r.contentWindow.XMLHttpRequest,u=h.finishNotifyingXhr(s),s=h.baseUrlRespectingXhr(u,l.baseUrl);r.onload=function(){var t;(0<(t=i)?new Promise(function(e){setTimeout(e,t)}):Promise.resolve()).then(u.waitForRequestsToFinish).then(e)},r.contentDocument.open(),r.contentWindow.XMLHttpRequest=s,r.contentWindow.onerror=function(e){a.push({resourceType:"scriptExecution",msg:e})},r.contentDocument.write("<!DOCTYPE html>"),r.contentDocument.write(o),r.contentDocument.close()})};function c(e,t,n,r,o){var a,i,s,u=Math.max(e.scrollWidth,e.clientWidth),c=Math.max(e.scrollHeight,e.clientHeight),l=t?(a=(l=function(e,t){var n=e.querySelector(t);if(n)return n;if(e.ownerDocument.querySelector(t)===e)return e;throw{message:"Clipping selector not found"}}(e,t).getBoundingClientRect()).top,i=l.left,s=l.width,l.height):(i=a=0,s=u,c);return l={width:s,height:l},r=r,o=o,r={width:Math.max(l.width*o,n),height:Math.max(l.height*o,r)},e=f.getComputedStyle(e.ownerDocument.documentElement).fontSize,{left:i,top:a,width:r.width,height:r.height,viewportWidth:u,viewportHeight:c,rootFontSize:e}}e.calculateDocumentContentSize=function(i,s){return new Promise(function(n,r){var e,t,o=s.zoom||1,a=function(e,t,n){e=Math.floor(e/n),n=Math.floor(t/n);return function(e,t,n){e=e.createElement("iframe");return e.style.width=t+"px",e.style.height=n+"px",e.style.visibility="hidden",e.style.position="absolute",e.style.top=-1e4-n+"px",e.style.left=-1e4-t+"px",e.style.borderWidth=0,e.sandbox="allow-same-origin",e.scrolling="no",e}(f.document,e,n)}(s.width,s.height,o);f.document.getElementsByTagName("body")[0].appendChild(a),a.onload=function(){var e,t=a.contentDocument;try{e=c(function(e,t){e=e.tagName;return t.querySelector(e)}(i,t),s.clip,s.width,s.height,o),n(e)}catch(e){r(e)}finally{f.document.getElementsByTagName("body")[0].removeChild(a)}},a.contentDocument.open(),a.contentDocument.write("<!DOCTYPE html>"),a.contentDocument.write("html"===(t=(e=i).tagName.toLowerCase())||"body"===t?e.outerHTML:'<body style="margin: 0;">'+e.outerHTML+"</body>"),a.contentDocument.close()})},e.parseHtmlFragment=function(e){var t=f.document.implementation.createHTMLDocument("");t.documentElement.innerHTML=e;t=t.querySelector("body").firstChild;if(!t)throw"Invalid source";return t};e.parseHTML=function(e){var t=f.document.implementation.createHTMLDocument("");return t.documentElement.innerHTML=e,function(e,t){var n,r,o,a=/<html((?:\s+[^>]*)?)>/im.exec(t),t=f.document.implementation.createHTMLDocument("");if(a)for(a="<div"+a[1]+"></div>",t.documentElement.innerHTML=a,r=t.querySelector("div"),n=0;n<r.attributes.length;n++)o=r.attributes[n],e.documentElement.setAttribute(o.name,o.value)}(t,e),t};function n(e){try{return t.failOnParseError(e)}catch(e){throw{message:"Invalid source",originalError:e}}}e.validateXHTML=function(e){e=(new DOMParser).parseFromString(e,"application/xml");n(e)};function r(i,s){return new Promise(function(e,t){function n(e){t({message:"Unable to load page",originalError:e})}var r=new window.XMLHttpRequest,o=u.joinUrl(s.baseUrl,i),a=(a=o,"none"===(o=s.cache)||"repeated"===o?a+"?_="+(l=null===l||"repeated"!==o?Date.now():l):a);r.addEventListener("load",function(){200===r.status||0===r.status?e(r.responseXML):n(r.statusText)},!1),r.addEventListener("error",function(e){n(e)},!1);try{r.open("GET",a,!0),r.responseType="document",r.send(null)}catch(e){n(e)}})}var l=null;return e.loadDocument=function(e,t){return r(e,t).then(n)},e}(o,a,n,window),n=function(){"use strict";function r(e,t){return t?URL.createObjectURL(new Blob([e],{type:"image/svg+xml"})):"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(e)}function i(e){e instanceof Blob&&URL.revokeObjectURL(e)}function o(o){return new Promise(function(t,e){var n=document.createElement("canvas"),r=new Image;r.onload=function(){var e=n.getContext("2d");try{e.drawImage(r,0,0),n.toDataURL("image/png"),t(!0)}catch(e){t(!1)}},r.onerror=e,r.src=o})}function s(t){return(e=void 0===e?n():e).then(function(e){return r(t,e)})}var e,t={},a='<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"><foreignObject></foreignObject></svg>',n=function(){return new Promise(function(t,e){var n;n=r(a,!0),o(n).then(function(e){return i(n),!e&&o(r(a,!1)).then(function(e){return e})},function(){return!1}).then(function(e){t(!e)},function(){e()})})};return t.renderSvg=function(a){return new Promise(function(e,t){function n(){r&&i(r)}var r,o=new Image;o.onload=function(){o.onload=null,o.onerror=null,n(),e(o)},o.onerror=function(){n(),t()},s(a).then(function(e){r=e,o.src=r},t)})},t}(window);return function(o,a,i){"use strict";var s={};s.drawDocument=function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1),n=o.parseOptionalParameters(t),r=e.documentElement||e;return i.rasterize(r,n.canvas,(e=(t=n).canvas,r=t.options,n=e?e.width:300,e=e?e.height:200,e={width:void 0!==r.width?r.width:n,height:void 0!==r.height?r.height:e},(t=o.clone(t.options)).width=e.width,t.height=e.height,t))};s.drawHTML=function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1),t=o.parseOptionalParameters(t);return function(e,t,n){e=a.parseHTML(e);return s.drawDocument(e,t,n)}(e,t.canvas,t.options)};function n(t,n,r){return a.loadDocument(t,r).then(function(e){e=function(e,t,n){var r=document.implementation.createHTMLDocument("");r.replaceChild(e.documentElement,r.documentElement);e=n?o.clone(n):{};return n.baseUrl||(e.baseUrl=t),{document:r,options:e}}(e,t,r);return s.drawDocument(e.document,n,e.options)})}return s.drawURL=function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1),t=o.parseOptionalParameters(t);return n(e,t.canvas,t.options)},s}(o,a,function(o,a,i,r,e,s){"use strict";function u(t){return e.renderSvg(t).then(function(e){return{image:e,svg:t}},function(e){throw l(e)})}function c(e,t,n){return r.drawDocumentAsSvg(e,n).then(u).then(function(e){return t&&function(e,t){try{t.getContext("2d").drawImage(e,0,0)}catch(e){throw l(e)}}(e.image,t),e})}var t={},l=function(e){return{message:"Error rendering page",originalError:e}};return t.rasterize=function(e,n,r){var t=o.clone(r);return t.inlineScripts=!0===r.executeJs,s.inlineReferences(e,t).then(function(t){return r.executeJs?a.executeJavascript(e,r).then(function(e){var t=e.document;return i.persistInputValues(t),{document:t,errors:e.errors,cleanUp:e.cleanUp}}).then(function(e){return{element:e.document.documentElement,errors:t.concat(e.errors),cleanUp:e.cleanUp}}):{element:e,errors:t,cleanUp:function(){}}}).then(function(t){return c(t.element,n,r).then(function(e){return t.cleanUp(),{image:e.image,svg:e.svg,errors:t.errors}})})},t}(o,a,e,function(i,r,s){"use strict";function u(t){var e=Object.keys(t);return e.length?" "+e.map(function(e){return e+'="'+t[e]+'"'}).join(" "):""}function o(e,t,n){var r,o,a=s.serializeToString(e);return i.validateXHTML(a),(e=(r=t,o=Math.round(r.viewportWidth),e=Math.round(r.viewportHeight),{x:-r.left,y:-r.top,width:o,height:e})).style=(e.style||"")+"float: left;",e.externalResourcesRequired=!0,'<svg xmlns="http://www.w3.org/2000/svg"'+u(function(e,t){t=t||1,e={width:e.width,height:e.height,"font-size":e.rootFontSize};return 1!==t&&(e.style="transform:scale("+t+"); transform-origin: 0 0;"),e}(t,n))+'><style scoped="">html::-webkit-scrollbar { display: none; }</style><foreignObject'+u(e)+">"+a+"</foreignObject></svg>"}var a={};return a.getSvgForDocument=function(e,t,n){return r.rewriteTagNameSelectorsToLowerCase(e),o(e,t,n)},a.drawDocumentAsSvg=function(t,n){return["hover","active","focus","target"].forEach(function(e){n[e]&&r.fakeUserAction(t,n[e],e)}),i.calculateDocumentContentSize(t,n).then(function(e){return a.getSvgForDocument(t,e,n.zoom)})},a}(a,e,t),n,r))},void 0===(r=this)&&void 0!==window&&(r=window),"object"==typeof t&&t.exports?t.exports=o(e("url"),e("xmlserializer"),e("sane-domparser-error"),e("inlineresources")):r.rasterizeHTML=o(r.url,r.xmlserializer,r.sanedomparsererror,r.inlineresources)},{inlineresources:4,"sane-domparser-error":14,url:15,xmlserializer:17}],10:[function(e,T,N){!function(S){!function(){!function(e){var t="object"==typeof N&&N&&!N.nodeType&&N,n="object"==typeof T&&T&&!T.nodeType&&T,r="object"==typeof S&&S;r.global!==r&&r.window!==r&&r.self!==r||(e=r);var o,a,g=2147483647,v=36,y=26,i=38,s=700,u=/^xn--/,c=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=v-1,w=Math.floor,x=String.fromCharCode;function b(e){throw RangeError(h[e])}function p(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function m(e,t){var n=e.split("@"),r="";return 1<n.length&&(r=n[0]+"@",e=n[1]),r+p((e=e.replace(l,".")).split("."),t).join(".")}function C(e){for(var t,n,r=[],o=0,a=e.length;o<a;)55296<=(t=e.charCodeAt(o++))&&t<=56319&&o<a?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function d(e){return p(e,function(e){var t="";return 65535<e&&(t+=x((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=x(e)}).join("")}function E(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function R(e,t,n){var r=0;for(e=n?w(e/s):e>>1,e+=w(e/t);f*y>>1<e;r+=v)e=w(e/f);return w(r+(f+1)*e/(e+i))}function U(e){var t,n,r,o,a,i,s,u=[],c=e.length,l=0,h=128,f=72,p=e.lastIndexOf("-");for(p<0&&(p=0),n=0;n<p;++n)128<=e.charCodeAt(n)&&b("not-basic"),u.push(e.charCodeAt(n));for(r=0<p?p+1:0;r<c;){for(o=l,a=1,i=v;c<=r&&b("invalid-input"),s=e.charCodeAt(r++),(v<=(s=s-48<10?s-22:s-65<26?s-65:s-97<26?s-97:v)||s>w((g-l)/a))&&b("overflow"),l+=s*a,!(s<(s=i<=f?1:f+y<=i?y:i-f));i+=v)a>w(g/(s=v-s))&&b("overflow"),a*=s;f=R(l-o,t=u.length+1,0==o),w(l/t)>g-h&&b("overflow"),h+=w(l/t),l%=t,u.splice(l++,0,h)}return d(u)}function A(e){for(var t,n,r,o,a,i,s,u,c,l,h=[],f=(e=C(e)).length,p=128,m=72,d=t=0;d<f;++d)(s=e[d])<128&&h.push(x(s));for(n=r=h.length,r&&h.push("-");n<f;){for(o=g,d=0;d<f;++d)p<=(s=e[d])&&s<o&&(o=s);for(o-p>w((g-t)/(u=n+1))&&b("overflow"),t+=(o-p)*u,p=o,d=0;d<f;++d)if((s=e[d])<p&&++t>g&&b("overflow"),s==p){for(a=t,i=v;!(a<(c=i<=m?1:m+y<=i?y:i-m));i+=v)h.push(x(E(c+(l=a-c)%(c=v-c),0))),a=w(l/c);h.push(x(E(a,0))),m=R(t,u,n==r),t=0,++n}++t,++p}return h.join("")}if(o={version:"1.3.2",ucs2:{decode:C,encode:d},decode:U,encode:A,toASCII:function(e){return m(e,function(e){return c.test(e)?"xn--"+A(e):e})},toUnicode:function(e){return m(e,function(e){return u.test(e)?U(e.slice(4).toLowerCase()):e})}},0,t&&n)if(T.exports==t)n.exports=o;else for(a in o)o.hasOwnProperty(a)&&(t[a]=o[a]);else e.punycode=o}(this)}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(t=t||"&");t=1e3;r&&"number"==typeof r.maxKeys&&(t=r.maxKeys);var i=e.length;0<t&&t<i&&(i=t);for(var s=0;s<i;++s){var u,c=e[s].replace(a,"%20"),l=c.indexOf(n),l=0<=l?(u=c.substr(0,l),c.substr(l+1)):(u=c,""),c=decodeURIComponent(u),l=decodeURIComponent(l);Object.prototype.hasOwnProperty.call(o,c)?h(o[c])?o[c].push(l):o[c]=[o[c],l]:o[c]=l}return o};var h=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],12:[function(e,t,n){"use strict";function a(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}t.exports=function(n,r,o,e){return r=r||"&",o=o||"=","object"==typeof(n=null===n?void 0:n)?s(u(n),function(e){var t=encodeURIComponent(a(e))+o;return i(n[e])?s(n[e],function(e){return t+encodeURIComponent(a(e))}).join(r):t+encodeURIComponent(a(n[e]))}).join(r):e?encodeURIComponent(a(e))+o+encodeURIComponent(a(n)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var u=Object.keys||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}},{}],13:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":11,"./encode":12}],14:[function(e,t,n){"use strict";function r(e){if(null===e)throw new Error("Parse error");if(void 0!==(e="parsererror"===(e=e).documentElement.tagName&&"http://www.mozilla.org/newlayout/xml/parsererror.xml"===e.documentElement.namespaceURI?e.documentElement:("xml"===e.documentElement.tagName||"html"===e.documentElement.tagName)&&e.documentElement.childNodes&&0<e.documentElement.childNodes.length&&"parsererror"===e.documentElement.childNodes[0].nodeName?e.documentElement.childNodes[0]:"html"===e.documentElement.tagName&&e.documentElement.childNodes&&0<e.documentElement.childNodes.length&&"body"===e.documentElement.childNodes[0].nodeName&&e.documentElement.childNodes[0].childNodes&&e.documentElement.childNodes[0].childNodes.length&&"parsererror"===e.documentElement.childNodes[0].childNodes[0].nodeName?e.documentElement.childNodes[0].childNodes[0]:void 0))throw e=function(e){for(var t,n=o(e),r=0;r<a.length;r++)if(t=a[r].exec(n))return t[1]}(e)||"Parse error",new Error(e)}var o=function(e){var t=new XMLSerializer;return Array.prototype.map.call(e.childNodes,function(e){return t.serializeToString(e)}).join("")},a=[new RegExp("^<h3[^>]*>This page contains the following errors:</h3><div[^>]*>(.+?)\n?</div>"),new RegExp("^(.+)\n")];n.failOnParseError=function(e){return r(e),e}},{}],15:[function(e,t,n){"use strict";var A=e("punycode"),S=e("./util");function b(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}n.parse=o,n.resolve=function(e,t){return o(e,!1,!0).resolve(t)},n.resolveObject=function(e,t){return e?o(e,!1,!0).resolveObject(t):t},n.format=function(e){S.isString(e)&&(e=o(e));return e instanceof b?e.format():b.prototype.format.call(e)},n.Url=b;var T=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,N=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,n=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),j=["'"].concat(n),O=["%","/","?",";","#"].concat(j),I=["/","?","#"],D=/^[+a-z0-9A-Z_-]{0,63}$/,P=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,L={javascript:!0,"javascript:":!0},F={javascript:!0,"javascript:":!0},k={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},q=e("querystring");function o(e,t,n){if(e&&S.isObject(e)&&e instanceof b)return e;var r=new b;return r.parse(e,t,n),r}b.prototype.parse=function(e,t,n){if(!S.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),o=-1!==r&&r<e.indexOf("#")?"?":"#",r=e.split(o);r[0]=r[0].replace(/\\/g,"/");var a=(a=e=r.join(o)).trim();if(!n&&1===e.split("#").length){var i=N.exec(a);if(i)return this.path=a,this.href=a,this.pathname=i[1],i[2]?(this.search=i[2],this.query=t?q.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var s,i=T.exec(a);if(i&&(U=(i=i[0]).toLowerCase(),this.protocol=U,a=a.substr(i.length)),(n||i||a.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(s="//"===a.substr(0,2))||i&&F[i]||(a=a.substr(2),this.slashes=!0)),!F[i]&&(s||i&&!k[i])){for(var u=-1,c=0;c<I.length;c++)-1!==(l=a.indexOf(I[c]))&&(-1===u||l<u)&&(u=l);-1!==(b=-1===u?a.lastIndexOf("@"):a.lastIndexOf("@",u))&&(C=a.slice(0,b),a=a.slice(b+1),this.auth=decodeURIComponent(C));for(var l,u=-1,c=0;c<O.length;c++)-1!==(l=a.indexOf(O[c]))&&(-1===u||l<u)&&(u=l);-1===u&&(u=a.length),this.host=a.slice(0,u),a=a.slice(u),this.parseHost(),this.hostname=this.hostname||"";var h="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!h)for(var f=this.hostname.split(/\./),c=0,p=f.length;c<p;c++){var m=f[c];if(m&&!m.match(D)){for(var d="",g=0,v=m.length;g<v;g++)127<m.charCodeAt(g)?d+="x":d+=m[g];if(!d.match(D)){var y=f.slice(0,c),w=f.slice(c+1),x=m.match(P);x&&(y.push(x[1]),w.unshift(x[2])),w.length&&(a="/"+w.join(".")+a),this.hostname=y.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),h||(this.hostname=A.toASCII(this.hostname));var b=this.port?":"+this.port:"",C=this.hostname||"";this.host=C+b,this.href+=this.host,h&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!L[U])for(c=0,p=j.length;c<p;c++){var E,R=j[c];-1!==a.indexOf(R)&&((E=encodeURIComponent(R))===R&&(E=escape(R)),a=a.split(R).join(E))}h=a.indexOf("#");-1!==h&&(this.hash=a.substr(h),a=a.slice(0,h));var U,h=a.indexOf("?");return-1!==h?(this.search=a.substr(h),this.query=a.substr(h+1),t&&(this.query=q.parse(this.query)),a=a.slice(0,h)):t&&(this.search="",this.query={}),a&&(this.pathname=a),k[U]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(b=this.pathname||"",U=this.search||"",this.path=b+U),this.href=this.format(),this},b.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&S.isObject(this.query)&&Object.keys(this.query).length&&(a=q.stringify(this.query));a=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||k[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o=o||"",r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+o+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(a=a.replace("#","%23"))+r},b.prototype.resolve=function(e){return this.resolveObject(o(e,!1,!0)).format()},b.prototype.resolveObject=function(e){S.isString(e)&&((p=new b).parse(e,!1,!0),e=p);for(var t=new b,n=Object.keys(this),r=0;r<n.length;r++){var o=n[r];t[o]=this[o]}if(t.hash=e.hash,""===e.href)return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),i=0;i<a.length;i++){var s=a[i];"protocol"!==s&&(t[s]=e[s])}return k[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!k[e.protocol]){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];t[l]=e[l]}return t.href=t.format(),t}if(t.protocol=e.protocol,e.host||F[e.protocol])t.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),t.pathname=h.join("/")}return t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,(t.pathname||t.search)&&(m=t.pathname||"",d=t.search||"",t.path=m+d),t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var f=t.pathname&&"/"===t.pathname.charAt(0),p=e.host||e.pathname&&"/"===e.pathname.charAt(0),m=p||f||t.host&&e.pathname,d=m,g=t.pathname&&t.pathname.split("/")||[],h=e.pathname&&e.pathname.split("/")||[],f=t.protocol&&!k[t.protocol];if(f&&(t.hostname="",t.port=null,t.host&&(""===g[0]?g[0]=t.host:g.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),m=m&&(""===h[0]||""===g[0])),p)t.host=(e.host||""===e.host?e:t).host,t.hostname=(e.hostname||""===e.hostname?e:t).hostname,t.search=e.search,t.query=e.query,g=h;else if(h.length)(g=g||[]).pop(),g=g.concat(h),t.search=e.search,t.query=e.query;else if(!S.isNullOrUndefined(e.search))return f&&(t.hostname=t.host=g.shift(),(x=!!(t.host&&0<t.host.indexOf("@"))&&t.host.split("@"))&&(t.auth=x.shift(),t.host=t.hostname=x.shift())),t.search=e.search,t.query=e.query,S.isNull(t.pathname)&&S.isNull(t.search)||(t.path=(t.pathname||"")+(t.search||"")),t.href=t.format(),t;if(!g.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var v=g.slice(-1)[0],p=(t.host||e.host||1<g.length)&&("."===v||".."===v)||""===v,y=0,w=g.length;0<=w;w--)"."===(v=g[w])?g.splice(w,1):".."===v?(g.splice(w,1),y++):y&&(g.splice(w,1),y--);if(!m&&!d)for(;y--;)g.unshift("..");!m||""===g[0]||g[0]&&"/"===g[0].charAt(0)||g.unshift(""),p&&"/"!==g.join("/").substr(-1)&&g.push("");var x,p=""===g[0]||g[0]&&"/"===g[0].charAt(0);return f&&(t.hostname=t.host=!p&&g.length?g.shift():"",(x=!!(t.host&&0<t.host.indexOf("@"))&&t.host.split("@"))&&(t.auth=x.shift(),t.host=t.hostname=x.shift())),(m=m||t.host&&g.length)&&!p&&g.unshift(""),g.length?t.pathname=g.join("/"):(t.pathname=null,t.path=null),S.isNull(t.pathname)&&S.isNull(t.search)||(t.path=(t.pathname||"")+(t.search||"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t},b.prototype.parseHost=function(){var e=this.host,t=r.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":16,punycode:10,querystring:13}],16:[function(e,t,n){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],17:[function(e,t,n){var r,o;r=this,o=function(){var o=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},a=function(e){var t=e.value;return" "+e.name+'="'+t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+'"'},i=function(e){var t=e.tagName;return t="http://www.w3.org/1999/xhtml"===e.namespaceURI?t.toLowerCase():t},s=function(e,t){return 0<=Array.prototype.map.call(e.attributes||e.attrs,function(e){return e.name}).indexOf("xmlns")||!t&&e.namespaceURI===e.parentNode.namespaceURI?"":' xmlns="'+e.namespaceURI+'"'},u=function(e){return Array.prototype.map.call(e.childNodes,function(e){return t(e)}).join("")},t=function(e,t){var n,r=t&&t.rootNode;return"#document"===e.nodeName||"#document-fragment"===e.nodeName?u(e):e.tagName?(t=r,n="<"+i(r=e),n+=s(r,t),Array.prototype.forEach.call(r.attributes||r.attrs,function(e){n+=a(e)}),0<r.childNodes.length?(n+=">",n+=u(r),n+="</"+i(r)+">"):n+="/>",n):"#text"===e.nodeName?function(e){e=e.nodeValue||e.value||"";return o(e)}(e):"#comment"===e.nodeName?"\x3c!--"+e.data.replace(/-/g,"&#45;")+"--\x3e":"#cdata-section"===e.nodeName?"<![CDATA["+e.nodeValue+"]]>":void 0};return{serializeToString:function(e){return t(e,{rootNode:!0}).replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")}}},"object"==typeof t&&t.exports?t.exports=o():r.xmlserializer=o()},{}]},{},[9])(9)});
\ No newline at end of file
diff --git a/dist/rasterizeHTML.d.ts b/dist/rasterizeHTML.d.ts
index fa9940c72d1fa59f24d8004116932e7f11b6dd64..7a709d73e2a7191b98d3325b3233fa9725122c52 100644
--- a/dist/rasterizeHTML.d.ts
+++ b/dist/rasterizeHTML.d.ts
@@ -1,6 +1,6 @@
-/*! rasterizeHTML.js - v1.3.1 - 2022-01-16
+/*! rasterizeHTML.js - v1.3.1 - 2025-10-27
 * http://www.github.com/cburgmer/rasterizeHTML.js
-* Copyright (c) 2022 Christoph Burgmer; Licensed MIT */
+* Copyright (c) 2025 Christoph Burgmer; Licensed MIT */
 export as namespace rasterizeHTML;
 
 /**
@@ -177,7 +177,7 @@ export interface Error {
  */
 export function drawHTML(
     html: string,
-    canvas: HTMLCanvasElement,
+    canvas: HTMLCanvasElement | OffscreenCanvas,
     options?: Options
 ): Promise<RenderResult>;
 
@@ -200,7 +200,7 @@ export function drawHTML(
  */
 export function drawURL(
     url: string,
-    canvas: HTMLCanvasElement,
+    canvas: HTMLCanvasElement | OffscreenCanvas,
     options?: Options
 ): Promise<RenderResult>;
 
@@ -223,6 +223,6 @@ export function drawURL(
  */
 export function drawDocument(
     document: Document,
-    canvas: HTMLCanvasElement,
+    canvas: HTMLCanvasElement | OffscreenCanvas,
     options?: Options
 ): Promise<RenderResult>;
diff --git a/dist/rasterizeHTML.js b/dist/rasterizeHTML.js
index d07ccf978e0947f0cfc127a193611996d788d3c7..8b87b62703100e2e80500975932b93878c108cb7 100644
--- a/dist/rasterizeHTML.js
+++ b/dist/rasterizeHTML.js
@@ -1,6 +1,6 @@
-/*! rasterizeHTML.js - v1.3.1 - 2022-01-16
+/*! rasterizeHTML.js - v1.3.1 - 2025-10-27
 * http://www.github.com/cburgmer/rasterizeHTML.js
-* Copyright (c) 2022 Christoph Burgmer; Licensed MIT */
+* Copyright (c) 2025 Christoph Burgmer; Licensed MIT */
 (function (root, factory) {
   if (root === undefined && window !== undefined) root = window;
   if (typeof define === 'function' && define.amd) {
@@ -60,7 +60,7 @@ var util = (function (url) {
             isObject(obj) &&
             Object.prototype.toString
                 .apply(obj)
-                .match(/\[object (Canvas|HTMLCanvasElement)\]/i)
+                .match(/\[object (Canvas|HTMLCanvasElement|OffscreenCanvas)\]/i)
         );
     };
 
@@ -810,7 +810,7 @@ var browser = (function (util, proxies, sanedomparsererror, theWindow) {
     return module;
 })(util, proxies, sanedomparsererror, window);
 
-var svg2image = (function (window) {
+var svg2image = (function () {
     "use strict";
 
     var module = {};
@@ -878,31 +878,16 @@ var svg2image = (function (window) {
         );
     };
 
-    var supportsBlobBuilding = function () {
-        if (window.Blob) {
-            // Available as constructor only in newer builds for all browsers
-            try {
-                new Blob(["<b></b>"], { type: "text/xml" });
-                return true;
-            } catch (err) {}
-        }
-        return false;
-    };
-
     var checkBlobSupport = function () {
         return new Promise(function (resolve, reject) {
-            if (supportsBlobBuilding() && window.URL) {
-                readingBackFromCanvasBenefitsFromOldSchoolDataUris().then(
-                    function (doesBenefit) {
-                        resolve(!doesBenefit);
-                    },
-                    function () {
-                        reject();
-                    }
-                );
-            } else {
-                resolve(false);
-            }
+            readingBackFromCanvasBenefitsFromOldSchoolDataUris().then(
+                function (doesBenefit) {
+                    resolve(!doesBenefit);
+                },
+                function () {
+                    reject();
+                }
+            );
         });
     };
 
diff --git a/src/svg2image.js b/src/svg2image.js
index f2b744feda759647b8feff1e73cc257532b2ca2c..ef71c2235da01064ec4a76702162098295b3d7c1 100644
--- a/src/svg2image.js
+++ b/src/svg2image.js
@@ -1,4 +1,4 @@
-var svg2image = (function (window) {
+var svg2image = (function () {
     "use strict";
 
     var module = {};
@@ -66,31 +66,16 @@ var svg2image = (function (window) {
         );
     };
 
-    var supportsBlobBuilding = function () {
-        if (window.Blob) {
-            // Available as constructor only in newer builds for all browsers
-            try {
-                new Blob(["<b></b>"], { type: "text/xml" });
-                return true;
-            } catch (err) {}
-        }
-        return false;
-    };
-
     var checkBlobSupport = function () {
         return new Promise(function (resolve, reject) {
-            if (supportsBlobBuilding() && window.URL) {
-                readingBackFromCanvasBenefitsFromOldSchoolDataUris().then(
-                    function (doesBenefit) {
-                        resolve(!doesBenefit);
-                    },
-                    function () {
-                        reject();
-                    }
-                );
-            } else {
-                resolve(false);
-            }
+            readingBackFromCanvasBenefitsFromOldSchoolDataUris().then(
+                function (doesBenefit) {
+                    resolve(!doesBenefit);
+                },
+                function () {
+                    reject();
+                }
+            );
         });
     };
 
diff --git a/src/typings.d.ts b/src/typings.d.ts
index 49e05ebfde4ed9825257f4c7d65b601e58cc02bf..0147872176e783211fcf08eac62bfffae37fdd46 100644
--- a/src/typings.d.ts
+++ b/src/typings.d.ts
@@ -174,7 +174,7 @@ export interface Error {
  */
 export function drawHTML(
     html: string,
-    canvas: HTMLCanvasElement,
+    canvas: HTMLCanvasElement | OffscreenCanvas,
     options?: Options
 ): Promise<RenderResult>;
 
@@ -197,7 +197,7 @@ export function drawHTML(
  */
 export function drawURL(
     url: string,
-    canvas: HTMLCanvasElement,
+    canvas: HTMLCanvasElement | OffscreenCanvas,
     options?: Options
 ): Promise<RenderResult>;
 
@@ -220,6 +220,6 @@ export function drawURL(
  */
 export function drawDocument(
     document: Document,
-    canvas: HTMLCanvasElement,
+    canvas: HTMLCanvasElement | OffscreenCanvas,
     options?: Options
 ): Promise<RenderResult>;
diff --git a/src/util.js b/src/util.js
index e88a69e0a7600dd65ce68bb341b557f28a061cd7..23cd38e68942fd2a78d2c4403c361e8b48b0945d 100644
--- a/src/util.js
+++ b/src/util.js
@@ -40,7 +40,7 @@ var util = (function (url) {
             isObject(obj) &&
             Object.prototype.toString
                 .apply(obj)
-                .match(/\[object (Canvas|HTMLCanvasElement)\]/i)
+                .match(/\[object (Canvas|HTMLCanvasElement|OffscreenCanvas)\]/i)
         );
     };
 
