[build]
  # The deploy-ready HTML files and assets generated by the build.
  publish = "docs/export/"

  # Build command.
  command = "pnpm docs:build"

[build.environment]
  NODE_VERSION = "22.18"
  PNPM_FLAGS = "--frozen-lockfile"
  NODE_OPTIONS = "--max-old-space-size=4096"

# disabled because of https://github.com/mui/mui-public/issues/809
# TODO: Re-enable after either:
#   - we notice PR previews in Netlify restore caches from master branch and not from docs-v8
#   - we completely remove the @mui/monorepo dependency
# [[plugins]]
#  package = "@mui/internal-netlify-cache"
