import { stackOrderNone, type Series } from '@mui/x-charts-vendor/d3-shape';
import { sum } from './sum';

/**
 * Returns a series order such that the smallest series (according to the sum of values) is at the bottom.
 *
 * @param series A series generated by a stack generator.
 */
export function orderAscending(series: Series<any, any>) {
  // @ts-expect-error doesn't seem like the Series.map is properly typed
  const sums = series.map(sum);
  return stackOrderNone(series).sort((a, b) => sums[a] - sums[b]);
}
