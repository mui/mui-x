import type { GridStateCommunity } from '../../models/gridStateCommunity';
import type { GridRowModel } from '../../models/gridRows';
import { GRID_ID_AUTOGENERATED } from '../features/rows/gridRowsUtils';

export const gridRowIdSelector = (state: GridStateCommunity, row: GridRowModel) => {
  if (GRID_ID_AUTOGENERATED in row) {
    return row[GRID_ID_AUTOGENERATED];
  }
  return state.props.getRowId ? state.props.getRowId(row) : row.id;
};
