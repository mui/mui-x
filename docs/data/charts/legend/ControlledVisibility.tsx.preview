<ButtonGroup variant="outlined" size="small">
  <Button onClick={handleShowAll}>Show All</Button>
  <Button onClick={handleHideAll}>Hide All</Button>
  <Button onClick={handleShowOnlyA}>Show Only A</Button>
</ButtonGroup>
<PieChart
  series={[{ id: 'pie', data }]}
  height={300}
  visibilityMap={visibilityMap}
  slotProps={{
    legend: {
      toggleVisibilityOnClick: true,
    },
  }}
  onVisibilityChange={(newVisibilityMap) => setVisibilityMap(newVisibilityMap)}
/>